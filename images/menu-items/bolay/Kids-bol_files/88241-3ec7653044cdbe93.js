"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88241],{91513:function(a,b,c){var d,e;c.d(b,{O:function(){return d}}),(e=d||(d={})).EMPTY="EMPTY",e.UNSPECIFIED="UNSPECIFIED",e.GROUP_CART_PARTICIPANT_CHECKOUT="GROUP_CART_PARTICIPANT_CHECKOUT"},72297:function(a,b,c){c.d(b,{Yy:function(){return F},RV:function(){return I},ZP:function(){return L},gH:function(){return G},Ek:function(){return J},Gc:function(){return K}});var d,e,f=c(51438),g=c(14924),h=c(28668),i=c(26042),j=c(69396),k=c(10253),l=c(59637),m=c(29815),n=c(71418),o=c(85893),p=c(67294),q=c(5732),r=c(23275),s=c(4831),t=c(43933),u=c(53259),v=c(3810),w=c(82638),x=function(a){var b=a.consumerScheduledTime,c=void 0===b?w.V:b,d=a.shouldSyncWithConsumerTime,e=void 0!==d&&d,f=(0,k.Z)(p.useState(e?c:w.V),2),g=f[0],h=f[1],i=p.useContext(v.Z).setCheckoutQueryScheduledTime,j=function(a){null==i||i(a),h(a)},l=(0,k.Z)(p.useState(c),2),m=l[0],n=l[1];return e&&c!==m&&(n(c),j(c)),{localScheduledTime:g,setLocalScheduledTime:j}},y=c(75423),z=c(10509),A={__typename:"RewardBalanceDetails",monetaryValue:{__typename:"AmountMonetaryFields",currency:"USD",displayString:"$25.00",unitAmount:2500},transactionAmount:{__typename:"RewardTransactionDetails",amount:3125,label:"points",conversionRate:80}},B=function(a,b){var c,d,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!b)return z.kz;var f=e?A:null==a?void 0:a.rewardBalanceAvailable;return(0,z.VK)({cartId:a.id,storeId:null==a?void 0:null===(c=a.restaurant)||void 0===c?void 0:c.id,currency:null==f?void 0:null===(d=f.monetaryValue)||void 0===d?void 0:d.currency})},C=function(a){var b=(0,y.KQ)(),c=(0,z.NT)(),d=b&&c,e=(0,k.Z)(p.useState(function(){return B(a,d)}),2),f=e[0],g=e[1];return{dashCardPoints:f,setDashCardPoints:g}},D=c(91513),E=p.createContext({});E.displayName="FormContext";var F=E.Consumer,G=function(a,b,c,f){return{country:null!==(d=null==b?void 0:b.toUpperCase())&&void 0!==d?d:s.Z8.US,currency:null!==(e=null==c?void 0:c.toLowerCase())&&void 0!==e?e:"usd",requestPayerName:!0,total:{amount:a,label:f||"doordash.com"}}},H=function(a){(0,h.Z)(c,a);var b=(0,n.Z)(c);function c(a){(0,f.Z)(this,c),(d=b.call(this,a)).handleSetApplePay=function(a){d.setState({isApplePaySelected:a})},d.handleSet=function(a,b){var c=d.props.orderCart,e=new u.ZP(c);switch(a){case"tips":var f=b.tipRecipient,h=d.state.tips.findIndex(function(a){return a.tipRecipient===f});if(!f||-1===h)return;var i=(0,m.Z)(d.state.tips);i[h]=b,d.setState({tips:i,total:e.total([b.value])});break;case"verifiedAgeRequirement":d.setState({verifiedAgeRequirement:b});break;case"menuOptions":d.setState({menuOptions:b});break;case"workOrderOptions":d.setState({workOrderOptions:b});break;default:d.setState((0,g.Z)({},a,b))}},d.setStripe=function(a){d.setState({stripe:a});var b=G(d.state.total),c=null==a?void 0:a.paymentRequest(b);null==c||c.canMakePayment().then(function(a){var b=Boolean(d.props.paymentCards.find(function(a){return a.isDefault})),c=d.state.isDigitalWalletAllowed&&!!(null==a?void 0:a.applePay)&&d.props.checkoutMode!==D.O.GROUP_CART_PARTICIPANT_CHECKOUT;d.setState({isApplePayAvailable:c,isApplePaySelected:c&&!b,applePayLabel:(null==a?void 0:a.applePay)?"Apple Pay":"Google or Microsoft Pay"})})},d.setGiftOptions=function(a){d.setState({giftOptions:a})};var d,e,h,i,j,k,l,n,o,p,r,v=a.orderCart,w=a.isCashTransaction,x=a.isDineIn,y=a.tableId,z=null!==(n=null===(e=v.orderTimeAvailability)||void 0===e?void 0:e.scheduleLongerInAdvanceTime)&&void 0!==n&&n,A=Boolean(w),B=new u.ZP(v),C=B.isPickup(),E=B.defaultTips(),F=E.map(function(a){return a.value}),H=B.debits([0]),I=H+B.sumTips(F),J=B.total(F),K=null===(h=v.domain)||void 0===h?void 0:h.giftInfo,L=(null==K?void 0:K.recipientName)?(0,q.KZ)(K,!!v.isMerchantShipping):null,M=null!==(o=null===(i=v.orders)||void 0===i?void 0:null===(j=i[0])||void 0===j?void 0:j.isOrderRoutineReorderEligible)&&void 0!==o&&o;return d.state={isPickupOrder:C,tips:E,giftOptions:L,totalWithoutTipBeforeCredits:H,totalWithTipBeforeCredits:I,total:J,isDigitalWalletAllowed:!1!==v.isDigitalWalletAllowed&&!A,verifiedAgeRequirement:!1,set:d.handleSet,isApplePayAvailable:!1,isApplePaySelected:!1,applePayLabel:"Apple Pay",stripe:null,setUseApplePay:d.handleSetApplePay,menuOptions:(null==(r=v)?void 0:r.menuOptions)?JSON.stringify(r.menuOptions.map(function(a){return a?{id:a.id,selection:a.selection}:null}).filter(function(a){return!!a})):null,setGiftOptions:d.setGiftOptions,countryCode:(0,s.Nn)((0,t.t8)(null===(k=v.restaurant)||void 0===k?void 0:k.address)),optInSelected:!1,workOrderOptions:null,recipientShippingDetails:(0,q.E$)({orderCartCreator:null==v?void 0:v.creator,giftInfo:K}),isDineIn:x||null,tableId:y||null,membershipId:"",programId:"",canScheduleLongerInAdvanceTime:z,routineReorderDetails:null,isMerchantShipping:null!==(p=v.isMerchantShipping)&&void 0!==p&&p,storeId:(null===(l=v.restaurant)||void 0===l?void 0:l.id)||"",isOrderRoutineReorderEligible:M},d}var d=c.prototype;return d.componentDidUpdate=function(a){var b=a.orderCart,c=new u.ZP(b),d=c.total([0]),e=this.props,f=e.orderCart,g=e.consumerStripeKey,h=new u.ZP(f),i=h.total([0]),j=this.state.tips,k=j.map(function(a){return a.value});d!==i&&this.setState({total:h.total(k)}),c.hasCompanyPayment()&&!h.hasCompanyPayment()&&this.setState({workOrderOptions:null}),!this.state.stripe&&g&&(0,r.J)(this.setStripe,g)},d.render=function(){var a=this.props,b=a.defaultPaymentMethod,c=a.localScheduledTime,d=a.setLocalScheduledTime,e=a.dashCardPoints,f=a.setDashCardPoints,g=a.isDashCardCheckoutUpsellVisible,h=a.showDashCardCheckoutUpsell,k=a.potentialDashPassRefundAmount,l=a.getSupplementalPaymentTransactionId,m=a.setSupplementalPaymentTransactionId;return(0,o.jsx)(E.Provider,{value:(0,j.Z)((0,i.Z)({},this.state),{defaultPaymentMethod:b,localScheduledTime:c,setLocalScheduledTime:d,dashCardPoints:e,setDashCardPoints:f,isDashCardCheckoutUpsellVisible:g,showDashCardCheckoutUpsell:h,potentialDashPassRefundAmount:k,getSupplementalPaymentTransactionId:l,setSupplementalPaymentTransactionId:m}),children:this.props.children})},c.getDerivedStateFromProps=function(a,b){var c,d,e=a.orderCart,f=new u.ZP(e),g=f.isPickup(),h=f.defaultTips(),k=b.isPickupOrder!==g||0===b.tips.length?h:b.tips,l=k.map(function(a){return a.value}),m=f.total(l),n=f.debits([0]),o=n+f.sumTips(l),p=f.hasCompanyPayment()?{isApplePayAvailable:!1}:{},q=null!==(d=null===(c=e.orderTimeAvailability)||void 0===c?void 0:c.scheduleLongerInAdvanceTime)&&void 0!==d&&d;return(0,j.Z)((0,i.Z)({},b,p),{isPickupOrder:g,tips:k,totalWithoutTipBeforeCredits:n,totalWithTipBeforeCredits:o,total:m,canScheduleLongerInAdvanceTime:q})},c}(p.Component),I=function(a){var b=p.useMemo(function(){var b;return(null!==(b=a.paymentCards)&&void 0!==b?b:[]).find(function(a){return a.isDefault})},[a.paymentCards]),c=x({consumerScheduledTime:a.consumerScheduledTime,shouldSyncWithConsumerTime:!!a.orderCart.isCatering}),d=c.localScheduledTime,e=c.setLocalScheduledTime,f=C(a.orderCart),g=f.dashCardPoints,h=f.setDashCardPoints,l=(0,k.Z)(p.useState(!1),2),m=l[0],n=l[1],q=p.useRef(""),r=p.useCallback(function(){return q.current},[]),s=p.useCallback(function(a){q.current=a},[]);return(0,o.jsx)(H,(0,j.Z)((0,i.Z)({},a),{defaultPaymentMethod:b,localScheduledTime:d,setLocalScheduledTime:e,dashCardPoints:g,setDashCardPoints:h,isDashCardCheckoutUpsellVisible:m,showDashCardCheckoutUpsell:n,potentialDashPassRefundAmount:a.potentialDashPassRefundAmount||0,getSupplementalPaymentTransactionId:r,setSupplementalPaymentTransactionId:s}))};function J(a,b){if(!a||0===a.length)return[];var c=(0,l.Z)(a),d=c[0],e=c.slice(1);return d?[(0,j.Z)((0,i.Z)({},d),{transactionId:b})].concat((0,m.Z)(e)):(0,m.Z)(a)}var K=function(){return p.useContext(E)},L=E},82638:function(a,b,c){c.d(b,{V:function(){return d}});var d="ASAP"},53259:function(a,b,c){c.d(b,{SM:function(){return d},ZP:function(){return m}});var d,e=c(51438),f=c(29815);c(18446);var g,h=c(12297),i=c.n(h),j=c(73303),k=c.n(j),l=c(11459);(g=d||(d={})).Tax="tax",g.MinOrderFee="min order fee",g.ServiceFee="service fee",g.TaxesAndFees="taxes and fees",g.Subtotal="subtotal",g.LegislativeFee="legislative fee",g.DeliveryFee="delivery fee",g.Discount="discount",g.Tip="tip",g.SnapEbt="snap_ebt";var m=function(){function a(b){(0,e.Z)(this,a),this.orderCartQueryResult=b}var b=a.prototype;return b.isPickup=function(){return this.orderCartQueryResult.isConsumerPickup||!1},b.isPreTippable=function(){return this.orderCartQueryResult.isPreTippable||!1},b.defaultTips=function(){var a;return(null!==(a=this.orderCartQueryResult.tipsSuggestionsList)&&void 0!==a?a:[]).map(function(a){var b=a.tipRecipient,c=a.suggestions.find(function(a){return a.isDefault}),d=c?c.value:0;return{tipRecipient:b,value:d}})},b.sumTips=function(a){return i()(a)},b.hasCompanyPayment=function(){var a,b,c;return Boolean(null===(a=this.orderCartQueryResult)||void 0===a?void 0:null===(b=a.companyPaymentInfo)||void 0===b?void 0:null===(c=b.teamOrderInfo)||void 0===c?void 0:c.budgetId)},b.hasExternalGiftCardApplied=function(){var a,b,c;return Boolean(null===(a=this.orderCartQueryResult)||void 0===a?void 0:null===(b=a.applicableExternalGiftCardDetails)||void 0===b?void 0:null===(c=b.externalGiftCardsList)||void 0===c?void 0:c.length)},b.getAllExternalGiftCardApplied=function(){var a,b,c;return null!==(c=null===(a=this.orderCartQueryResult)||void 0===a?void 0:null===(b=a.applicableExternalGiftCardDetails)||void 0===b?void 0:b.externalGiftCardsList)&&void 0!==c?c:[]},b.companyPayTotal=function(a){var b=i()(a);return Math.min(this.companyPayCompanyInitialAmount()+b,this.companyPayMaxBudgetAmount())},b.companyPayMaxBudgetAmount=function(){var a,b,c;return(null===(a=this.orderCartQueryResult)||void 0===a?void 0:null===(b=a.companyPaymentInfo)||void 0===b?void 0:null===(c=b.maxBudgetAmount)||void 0===c?void 0:c.unitAmount)||0},b.companyPayCompanyInitialAmount=function(){var a,b,c;return(null===(a=this.orderCartQueryResult)||void 0===a?void 0:null===(b=a.companyPaymentInfo)||void 0===b?void 0:null===(c=b.companyAmount)||void 0===c?void 0:c.unitAmount)||0},b.companyPayIndividualAmount=function(){var a,b,c;return(null===(a=this.orderCartQueryResult)||void 0===a?void 0:null===(b=a.companyPaymentInfo)||void 0===b?void 0:null===(c=b.individualAmount)||void 0===c?void 0:c.unitAmount)||0},b.appliedCreditsForCartWithBudget=function(){var a,b,c;return(null===(a=this.orderCartQueryResult)||void 0===a?void 0:null===(b=a.companyPaymentInfo)||void 0===b?void 0:null===(c=b.creditsApplied)||void 0===c?void 0:c.unitAmount)||0},b.appliedCredits=function(){return this.hasCompanyPayment()?this.appliedCreditsForCartWithBudget():this.orderCartQueryResult.creditsApplicableBeforeTip||0},b.companyCredits=function(){return 0},b.debits=function(a){return this.hasCompanyPayment()?this.total(a):this.total(a)+this.appliedCredits()},b.applicableCredits=function(a){var b=i()(a),c=this.consumerCredits()-this.appliedCredits();return this.appliedCredits()+Math.min(b,c)},b.subtotal=function(){return this.orderCartQueryResult.subtotal||0},b.serviceFee=function(){return this.orderCartQueryResult.appliedServiceFee||0},b.originalServiceFee=function(){return this.orderCartQueryResult.serviceRateDetails&&this.orderCartQueryResult.serviceRateDetails.originalFee&&this.orderCartQueryResult.serviceRateDetails.originalFee.unitAmount||0},b.tax=function(){return this.orderCartQueryResult.taxAmount||0},b.discount=function(){return Math.max(this.totalDiscount()-this.appliedCredits(),0)},b.totalDiscount=function(){return this.orderCartQueryResult.discountDetails&&this.orderCartQueryResult.discountDetails.appliedDiscount&&this.orderCartQueryResult.discountDetails.appliedDiscount.unitAmount||0},b.minOrderFee=function(){return this.orderCartQueryResult.minOrderFee||0},b.deliveryFee=function(){return this.orderCartQueryResult.deliveryFee||0},b.originalDeliveryFee=function(){return this.orderCartQueryResult.deliveryFeeDetails&&this.orderCartQueryResult.deliveryFeeDetails.originalFee&&this.orderCartQueryResult.deliveryFeeDetails.originalFee.unitAmount||0},b.isDeliveryFeeDiscounted=function(){return this.deliveryFee()<this.originalDeliveryFee()},b.originalTaxesAndFees=function(){return k()(this.taxesAndFeesLineItems(),function(a){return void 0!==a.originalValue?a.originalValue:a.value})},b.taxesAndFeesLineItems=function(){return[{type:d.Tax,value:this.tax()},{type:d.MinOrderFee,value:this.minOrderFee()},{type:d.ServiceFee,originalValue:this.originalServiceFee(),value:this.serviceFee()},]},b.taxesAndFees=function(){return k()(this.taxesAndFeesLineItems(),"value")},b.isTaxesAndFeesDiscounted=function(){return this.taxesAndFees()<this.originalTaxesAndFees()},b.legislativeFee=function(){return this.orderCartQueryResult.legislativeFeeDetails&&this.orderCartQueryResult.legislativeFeeDetails.unitAmount||0},b.lineItems=function(a){var b=a.map(function(a){return{type:d.Tip,value:a}});return[{type:d.Subtotal,value:this.subtotal()},{type:d.LegislativeFee,value:this.legislativeFee()},{type:d.DeliveryFee,originalValue:this.originalDeliveryFee(),value:this.deliveryFee()},{type:d.TaxesAndFees,originalValue:this.originalTaxesAndFees(),value:this.taxesAndFees()},{type:d.Discount,value:-this.discount()},].concat((0,f.Z)(b))},b.totalFromLineItems=function(a){return k()(this.lineItems(a),"value")},b.total=function(a){return this.hasCompanyPayment()?i()([this.appliedCreditsForCartWithBudget(),this.companyPayIndividualAmount(),this.companyPayCompanyInitialAmount(),].concat((0,f.Z)(a))):i()([this.orderCartQueryResult.total||0].concat((0,f.Z)(a)))},b.toJSON=function(){var a=this.defaultTips().map(function(a){return a.value});return{isPickup:this.isPickup(),isPreTippable:this.isPreTippable(),hasCompanyPayment:this.hasCompanyPayment(),companyPayTotal:this.companyPayTotal(a),companyPayMaxBudgetAmount:this.companyPayMaxBudgetAmount(),companyPayInitialAmount:this.companyPayCompanyInitialAmount(),defaultTips:this.defaultTips(),appliedCredits:this.appliedCredits(),consumerCredits:this.consumerCredits(),debits:this.debits(a),subtotal:this.subtotal(),serviceFee:this.serviceFee(),originalServiceFee:this.originalServiceFee(),tax:this.tax(),discount:this.discount(),totalDiscount:this.totalDiscount(),minOrderFee:this.minOrderFee(),deliveryFee:this.deliveryFee(),originalDeliveryFee:this.originalDeliveryFee(),isDeliveryFeeDiscounted:this.isDeliveryFeeDiscounted(),originalTaxesAndFees:this.originalTaxesAndFees(),taxesAndFeesLineItems:this.taxesAndFeesLineItems(),taxesAndFees:this.taxesAndFees(),isTaxesAndFeesDiscounted:this.isTaxesAndFeesDiscounted(),lineItems:this.lineItems(a),totalFromLineItems:this.totalFromLineItems(a),total:this.total(a),totalSavings:this.totalSavings()}},b.consumerCredits=function(){var a;return(null===(a=this.orderCartQueryResult.totalCreditsAvailable)||void 0===a?void 0:a.unitAmount)||0},b.totalSavings=function(){return this.orderCartQueryResult.totalSavings||0},b.getTotalStrikethrough=function(a){var b,c,d,e,f,g=null!==(f=null===(d=null===(c=null===(b=this.orderCartQueryResult.lineItemsList)||void 0===b?void 0:b.filter(function(a){return a.chargeId&&[l.k1.CASH_BACK_REWARDS_APPLIED,l.k1.CREDITS,l.k1.EXPENSED_MEAL_COMPANY_PAY,].includes(a.chargeId)}))||void 0===c?void 0:c.map(function(a){var b;return null!==(e=null===(b=a.finalMoney)||void 0===b?void 0:b.unitAmount)&&void 0!==e?e:0}))||void 0===d?void 0:d.reduce(function(a,b){return a+Math.abs(b)},0))&&void 0!==f?f:0,h=i()([this.totalSavings(),-g]);return i()([a,h])},a}()},16130:function(a,b,c){c.d(b,{iB:function(){return A},ZP:function(){return B},wV:function(){return z}});var d=c(26042),e=c(7297),f=c(85893),g=c(93241),h=c(1644),i=c(80133),j=c(67294),k=c(987),l=c(41276),m=c(59486),n=c(11406),o=c(76814),p=c(3810),q=c(18446),r=c.n(q),s=c(14724),t=c(4082),u=function(a){var b=(0,t.bp)().isSSR,c=j.useRef(b?"cache-first":"network-only"),d=(0,s.Z)(a);return void 0===d||r()(d,a)||(c.current="network-only"),c.current},v=u,w=c(34788);function x(){var a=(0,e.Z)(["\n  query checkout(\n    $orderCartId: ID!\n    $corporateIndividualOrdersEnabled: Boolean\n    $includeCompanyPaymentInfo: Boolean!\n    $deliveryOptionType: DeliveryOptionType\n    $isCardPayment: Boolean\n    $programId: String\n    $isDashPassUpsellSelected: Boolean\n    $routineReorderItemIds: [String]\n    $selectedBudgetId: String\n    $scheduledTime: String\n    $supplementalPaymentDetailsList: [SupplementalPaymentDetails!]\n    $includeRewardBalanceAvailable: Boolean!\n    $deliveryOptionInfo: DeliveryOptionInfo\n    $landingPageType: LandingPageType\n  ) {\n    orderCart(\n      id: $orderCartId\n      corporateIndividualOrdersEnabled: $corporateIndividualOrdersEnabled\n      deliveryOptionType: $deliveryOptionType\n      isCardPayment: $isCardPayment\n      programId: $programId\n      isDashPassUpsellSelected: $isDashPassUpsellSelected\n      routineReorderItemIds: $routineReorderItemIds\n      selectedBudgetId: $selectedBudgetId\n      scheduledTime: $scheduledTime\n      supplementalPaymentDetailsList: $supplementalPaymentDetailsList\n      includeRewardBalanceAvailable: $includeRewardBalanceAvailable\n      deliveryOptionInfo: $deliveryOptionInfo\n      landingPageType: $landingPageType\n    ) {\n      ...CheckoutOrderCartFragment\n    }\n  }\n  ","\n"]);return x=function(){return a},a}var y=(0,i.Ps)(x(),m.mC),z=function(a){var b,c=(b=a,{query:y,options:(0,d.Z)({fetchPolicy:"network-only"},b)}),e=c.query,f=c.options;return(0,g.a)(e,f)},A=j.createContext({orderCart:{},consumerStripeKey:"",consumerPaymentCards:[],loading:!1,isRefetching:!1,error:void 0,refetch:function(){},corporateIndividualOrders:!1});A.displayName="CheckoutQueryContext";var B=function(a){var b,c,d,e,g=a.orderCartId,i=a.children,m=a.programId,q=j.useContext(w.Z).consumer,r=(0,o.jP)(),s=r.loading,t=r.belongToAnyTeam,u=(0,k.z2)(),x=u.loading,y=u.data,B=(0,k.Ni)(),C=B.data,D=j.useContext(p.Z),E=D.selectedDeliveryOption,F=D.isOptedOut,G=D.isApplePaySelected,H=D.isDashPassUpsellSelected,I=D.routineReorderPreviewItemIds,J=D.expensedMealBudget,K=D.checkoutQueryScheduledTime,L=D.supplementalPaymentDetailsList,M=D.deliveryOptionInfo,N=D.landingPageType,O={orderCartId:g,programId:m,corporateIndividualOrdersEnabled:t&&!F,includeCompanyPaymentInfo:!F,deliveryOptionType:E,isCardPayment:(0,l.Hw)(y,G),isDashPassUpsellSelected:H,routineReorderItemIds:I,selectedBudgetId:J.manualSelectedBudgetId,scheduledTime:K,supplementalPaymentDetailsList:L,includeRewardBalanceAvailable:(0,n.IM)(y),deliveryOptionInfo:M,landingPageType:N},P=v(O),Q=z({variables:O,notifyOnNetworkStatusChange:!0,fetchPolicy:P,skip:s||x}),R=Q.networkStatus!==h.I.refetch&&Q.networkStatus!==h.I.setVariables&&(Q.loading||!(null===(b=Q.data)||void 0===b?void 0:b.orderCart)),S={orderCart:!(R||s||x)&&(null==Q?void 0:null===(c=Q.data)||void 0===c?void 0:c.orderCart)?Q.data.orderCart:q.orderCart,consumerStripeKey:null!==(d=null==C?void 0:C.consumerStripeKey)&&void 0!==d?d:"",consumerPaymentCards:null!==(e=C.paymentCards)&&void 0!==e?e:[],refetch:Q.refetch,loading:R,error:Q.error,isRefetching:Q.networkStatus===h.I.refetch||Q.networkStatus===h.I.setVariables,corporateIndividualOrders:t};return(0,f.jsx)(A.Provider,{value:S,children:i(S)})}},3810:function(a,b,c){c.d(b,{f:function(){return j}});var d=c(10253),e=c(85893),f=c(67294),g=c(11459),h=c(82638),i=f.createContext({}),j=function(a){var b=a.children,c=(0,d.Z)(f.useState(g.n5.NOT_SET),2),j=c[0],k=c[1],l=(0,d.Z)(f.useState(void 0),2),m=l[0],n=l[1],o=(0,d.Z)(f.useState(!1),2),p=o[0],q=o[1],r=f.useCallback(function(){return q(!0)},[q,]),s=(0,d.Z)(f.useState(!1),2),t=s[0],u=s[1],v=(0,d.Z)(f.useState(!1),2),w=v[0],x=v[1],y=(0,d.Z)(f.useState(!1),2),z=y[0],A=y[1],B=(0,d.Z)(f.useState([]),2),C=B[0],D=B[1],E=(0,d.Z)(f.useState([]),2),F=E[0],G=E[1],H=(0,d.Z)(f.useState({availableBudgetAmount:0,manualSelectedBudgetId:""}),2),I=H[0],J=H[1],K=(0,d.Z)(f.useState(h.V),2),L=K[0],M=K[1],N=(0,d.Z)(f.useState(null),2),O=N[0],P=N[1];return(0,e.jsx)(i.Provider,{value:{selectedDeliveryOption:j,setSelectedDeliveryOption:k,deliveryOptionInfo:m,setDeliveryOptionInfo:n,isOptedOut:t,setIsOptedOut:u,hadUserToggledBefore:p,setUserToggled:r,isApplePaySelected:w,setIsApplePaySelected:x,isDashPassUpsellSelected:z,setIsDashPassUpsellSelected:A,routineReorderPreviewItemIds:C,setRoutineReorderPreviewItemIds:D,expensedMealBudget:I,setExpensedMealBudget:J,checkoutQueryScheduledTime:L,setCheckoutQueryScheduledTime:M,supplementalPaymentDetailsList:F,setSupplementalPaymentDetailsList:G,landingPageType:O,setLandingPageType:P},children:b})};b.Z=i},30778:function(a,b,c){c.d(b,{"$w":function(){return z},D2:function(){return y},F0:function(){return r},Fk:function(){return D},Hn:function(){return s},IC:function(){return C},SJ:function(){return B},"_B":function(){return A},aU:function(){return x},bk:function(){return u},uz:function(){return t},v9:function(){return v},vi:function(){return w},yB:function(){return q}});var d,e,f=c(14924),g=c(46171),h=c(80167),i=c(75317),j=c(11459),k=c(82262),l=c(21743),m=c(91513),n=c(16935),o=c(96303),p="ASAP",q=function(a){var b=a.orderCart,c=a.deliveryTime,d=a.isPickup,e=a.isGiftRecipientScheduling,f=a.isNativeGiftCardOrderCart,g=a.checkoutModeOptions,h=a.locale;return!!f||(null==b?void 0:b.fulfillmentType)===j.LK.DineIn||(null==g?void 0:g.mode)===m.O.GROUP_CART_PARTICIPANT_CHECKOUT||!!e&&!d||null!=b&&!!b.isMerchantShipping||!c||!(null==b?void 0:b.orderTimeAvailability)||(c&&c===p?d?!!(null==b?void 0:b.asapPickupAvailable):!!(null==b?void 0:b.asapDeliveryAvailable):(0,(0,l.QB)(c,h,null==b?void 0:b.orderTimeAvailability).isScheduledTimeAvailableForOrder))},r=function(a,b,c,d,e){return(null==a?void 0:a.fulfillmentType)===j.LK.DineIn||e.mode===m.O.GROUP_CART_PARTICIPANT_CHECKOUT||!!d&&!c&&!a.isOutsideDeliveryRegion||!!a.isMerchantShipping||!b||null==a||!a.orderTimeAvailability||(b&&b===p?c?!!(null==a?void 0:a.asapPickupAvailable):!!(null==a?void 0:a.asapDeliveryAvailable):!a.isOutsideDeliveryRegion)},s=function(a,b){return b.mode===m.O.GROUP_CART_PARTICIPANT_CHECKOUT&&!!a&&n.Ec.has(a.type)},t=function(a){var b=a.amountDue,c=a.isCashTransaction;return b>0&&!c};(e=d||(d={})).selectedTimeNotAvailable="Selected time not available",e.notWithinRegion="Not within region",e.invalidOrderType="Invalid order type",e.invalidPayPalConstraints="Invalid Paypal constraints",e.invalidVenmoConstraints="Invalid Venmo constraints",e.invalidAfterpayConstraints="Invalid Afterpay constraints",e.invalidCashAppConstraints="Invalid CashApp constraints",e.giftingError="Meal Gifting error",e.workOrderOptionsError="Work Order Options error",e.foodAlcoholConstraintError="Food and Alcohol Constraint not met",e.cateringError="Catering error",e.addressTooFarAway="Address too far away",e.guestUser="Requires user to be signed in",e.groupCartParticipantNonCreditCardPayment="Group Cart participant requires to use credit card",e.addressNotDeliverableBlocking="We can't deliver to this address right now",e.paymentMethodUnavailable="Current payment method is unavailable because of guided recovery";var u=function(a,b,c){var e,g,j,l,p,t,u,v=a.deliveryTime,w=a.hasDefaultCard,x=a.isApplePaySelected,y=a.isPickupOrder,z=a.orderCart,A=a.venmoCountrySupported,B=a.paymentMethodRequiredForCheckout,C=a.giftingError,D=a.workOrderOptions,E=a.isGiftRecipientScheduling,F=void 0!==E&&E,G=a.isCartInvalidForCateringReasons,H=a.isPaypalAlcoholPaySupported,I=a.isUsingAfterpay,J=a.isAfterpayEnabled,K=a.isAfterpayCountrySupported,L=a.isValidAfterpayPaymentAmount,M=a.isGuestUser,N=a.defaultPaymentMethod,O=a.isAddressNotDeliverableBlocking,P=a.isNativeGiftCardOrderCart,Q=void 0!==P&&P,R=a.isCashAppCountrySupported,S=a.isCashAppGiftCardSupported,T=!0===z.containsAlcohol,U=q({orderCart:z,deliveryTime:v,isPickup:y,isGiftRecipientScheduling:F,checkoutModeOptions:b,isNativeGiftCardOrderCart:Q,locale:c}),V=r(z,v,y,F,b),W=(p=z,t=y,(u=b).mode===m.O.GROUP_CART_PARTICIPANT_CHECKOUT||t||!p.isOutsideDeliveryRegion),X=!x&&(null==N?void 0:N.type)===n.Oh.PAYPAL,Y=!x&&(null==N?void 0:N.type)===n.Oh.VENMO,Z=(null==N?void 0:N.type)===n.Oh.CASHAPP&&(!(void 0!==R&&R)||T||Q&&!(void 0!==S&&S)),$=(0,k.cs)(null!==(e=null==D?void 0:D.expenseCode)&&void 0!==e?e:"",k.uB.CODE),_=(0,k.cs)(null!==(g=null==D?void 0:D.expenseNote)&&void 0!==g?g:"",k.uB.NOTE),aa=(0,k.Uw)(z,null!==(j=null==D?void 0:D.expenseCode)&&void 0!==j?j:""),ab=(0,i.sx)(z),ac=aa&&$.isValid&&_.isValid||ab,ad=(0,h.V)(z.foodAlcoholConstraintCartLevel),ae=s(N,b),af=(0,o.eo)(N),ag=(l={},(0,f.Z)(l,d.selectedTimeNotAvailable,!U),(0,f.Z)(l,d.notWithinRegion,!W),(0,f.Z)(l,d.invalidOrderType,!(!B||w||x)),(0,f.Z)(l,d.invalidPayPalConstraints,!(!X||void 0!==H&&H||!T)),(0,f.Z)(l,d.invalidVenmoConstraints,!(!Y||!T&&A)),(0,f.Z)(l,d.giftingError,!!C),(0,f.Z)(l,d.workOrderOptionsError,!ac),(0,f.Z)(l,d.foodAlcoholConstraintError,!ad),(0,f.Z)(l,d.cateringError,void 0!==G&&G),(0,f.Z)(l,d.invalidAfterpayConstraints,!(!(void 0!==I&&I)||void 0!==K&&K&&void 0!==J&&J&&!T&&(void 0===L||L))),(0,f.Z)(l,d.invalidCashAppConstraints,Z),(0,f.Z)(l,d.addressTooFarAway,!V),(0,f.Z)(l,d.guestUser,void 0!==M&&M),(0,f.Z)(l,d.groupCartParticipantNonCreditCardPayment,ae),(0,f.Z)(l,d.addressNotDeliverableBlocking,void 0!==O&&O),(0,f.Z)(l,d.paymentMethodUnavailable,af),l),ah=Object.keys(ag).filter(function(a){return ag[a]});return ah},v=function(a){var b=a.accountCredits,c=a.companyPay,d=a.refund,e=a.totalWithTipBeforeCredits,f=a.dashCardPoints,g=w({accountCredits:b,companyPay:c,refund:d,totalWithTipBeforeCredits:e});return Math.max(0,g-f)},w=function(a){var b=a.accountCredits,c=a.companyPay,d=a.refund,e=a.totalWithTipBeforeCredits;return Math.max(e-(b+d+c),0)},x=function(a){var b=a.totalWithTipBeforeCredits,c=a.refund;return b-c},y=function(a){var b=a.totalWithTipBeforeCredits,c=a.companyPay,d=a.accountCredits;return Math.max(0,Math.min(b-c,d))},z=function(a){var b=a.companyPay,c=a.accountCredits,d=a.refund,e=a.totalWithTipBeforeCredits,f=a.dashCardPoints,g=x({totalWithTipBeforeCredits:e,refund:d}),h=v({companyPay:b,accountCredits:c,refund:d,totalWithTipBeforeCredits:e,dashCardPoints:f}),i=y({accountCredits:c,companyPay:b,totalWithTipBeforeCredits:e}),j=w({companyPay:b,accountCredits:c,refund:d,totalWithTipBeforeCredits:e});return{amountDue:h,creditsApplied:i,totalAmount:g,amountDueWithoutPoints:j}},A=function(a){var b=a.firstName,c=a.lastName,d=a.phoneNumber,e=a.email,f=[b,c,e,d].map(function(a){return a.trim()}).every(function(a){return!!a});return f&&(0,g.vV)(e.toLowerCase())},B=function(a){return a.commissionMessage?a.commissionMessage:""},C=function(a){var b;return null!==(b=a.restaurant)&&void 0!==b&&!!b.requiresCheckIn&&a.restaurant.requiresCheckIn},D=function(a){var b,c;return(null===(b=a.restaurant)||void 0===b?void 0:null===(c=b.business)||void 0===c?void 0:c.name)?a.restaurant.business.name:""}},23275:function(a,b,c){c.d(b,{J:function(){return g}});var d=c(43947),e=function(a,b){var c;try{c=window.Stripe(b,{canCreateRadarSession:!0,betas:["afterpay_clearpay_setup_intents_beta"]})}catch(e){(0,d.Tb)(e);return}a(c)},f=function(a,b,c){a.addEventListener("load",function(){e(b,c)})},g=function(a,b){if(window.Stripe)e(a,b);else{var c=document.querySelector("#stripe-js");if(!c){var d=document.createElement("script");d.type="text/javascript",d.src="https://js.stripe.com/v3",d.id="stripe-js",document.body.appendChild(d),f(d,a,b)}c&&f(c,a,b)}}},9448:function(a,b,c){c.d(b,{U9:function(){return j},vS:function(){return k}});var d=c(7297),e=c(80133);function f(){var a=(0,d.Z)(["\n  fragment PaymentCardFragment on PaymentCard {\n    id\n    isDefault\n    type\n    stripeId\n    last4\n    expYear\n    expMonth\n    hasExistingCard\n    cardBenefitMembershipLinkStatus\n    metadata {\n      paypalAccount\n      setupIntentClientSecret\n      setupIntentRequiresAction\n      isDashCard\n      isHsaFsaCard\n    }\n    accountDisplayDescription\n    paymentMethodUuid\n    paymentMethodAvailability {\n      paymentMethodAvailabilityStatus\n    }\n    createdAt\n    isPrimaryCardHolder\n  }\n"]);return f=function(){return a},a}function g(){var a=(0,d.Z)(["\n  query cacheQuery {\n    consumerPaymentCards {\n      ...PaymentCardFragment\n    }\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  query cacheReadQuery {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return h=function(){return a},a}var i=(0,e.Ps)(f()),j=(0,e.Ps)(g(),i),k=(0,e.Ps)(h(),i);b.ZP=i},987:function(a,b,c){c.d(b,{Ff:function(){return p},Ni:function(){return r},z2:function(){return s}});var d=c(26042),e=c(69396),f=c(7297),g=c(67294),h=c(80133),i=c(93241),j=c(9448),k=c(46447),l=c(46716),m=c(96303);function n(){var a=(0,f.Z)(["\n  query paymentCardQuery {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n  }\n  ","\n"]);return n=function(){return a},a}function o(){var a=(0,f.Z)(["\n  query paymentMethodQuery(\n    $usePaymentConfigQuery: Boolean!\n    $usePaymentConfigQueryV2: Boolean!\n    $country: String\n  ) {\n    getPaymentMethodList {\n      ...PaymentCardFragment\n    }\n    getPaymentPublicKey {\n      publicKey\n    }\n    # PAYMENT-CONFIG\n    ... @include(if: $usePaymentConfigQuery) {\n      getPaymentConfig {\n        paymentConfigToken\n        cardConfig {\n          ...PaymentMethodFragment\n        }\n        applePayConfig {\n          ...PaymentMethodFragment\n        }\n        googlePayConfig {\n          ...PaymentMethodFragment\n        }\n        paypalConfig {\n          ...PaymentMethodFragment\n        }\n      }\n    }\n    # PAYMENT CONFIG V2\n    ... @include(if: $usePaymentConfigQueryV2) {\n      getPaymentConfigV2(country: $country) {\n        paymentConfigToken\n        cardConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        paypalConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        applePayConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        googlePayConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        venmoConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        afterpayConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        ebtConfig {\n          ...PaymentMethodConfigV2Fragment\n        }\n        providerConfigs {\n          vgs {\n            ...PaymentProviderConfigV2Fragment\n          }\n          stripe {\n            ...PaymentProviderConfigV2Fragment\n          }\n          braintree {\n            ...PaymentProviderConfigV2Fragment\n          }\n          jpm {\n            ...PaymentProviderConfigV2Fragment\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return o=function(){return a},a}var p=(0,h.Ps)(n(),j.ZP),q=(0,h.Ps)(o(),j.ZP,l.ZB,k.E8,k.Hk),r=function(a,b){var c,f,h,j,l,n,o,r,s,t,u,v,w,x,y,z=(0,m.vw)(),A=(0,e.Z)((0,d.Z)({},a),{variables:(0,e.Z)((0,d.Z)({},null==a?void 0:a.variables),{country:null!==(r=null==a?void 0:null===(c=a.variables)||void 0===c?void 0:c.country)&&void 0!==r?r:z,usePaymentConfigQuery:!0,usePaymentConfigQueryV2:!0})}),B=(0,i.a)(b?p:q,(0,e.Z)((0,d.Z)({fetchPolicy:"cache-first",errorPolicy:"all"},A),{nextFetchPolicy:"cache-first"})),C=null!==(s=null==B?void 0:null===(f=B.data)||void 0===f?void 0:f.getPaymentMethodList)&&void 0!==s?s:[],D=null!==(t=null==B?void 0:null===(h=B.data)||void 0===h?void 0:h.getPaymentConfigV2)&&void 0!==t?t:null,E=g.useMemo(function(){return(0,k.k4)(D)},[D]);u=D?E:null!==(w=null==B?void 0:null===(v=B.data)||void 0===v?void 0:v.getPaymentConfig)&&void 0!==w?w:null;var F=null!==(y=null!==(x=null==D?void 0:null===(j=D.providerConfigs)||void 0===j?void 0:null===(l=j.stripe)||void 0===l?void 0:l.key)&&void 0!==x?x:null==B?void 0:null===(n=B.data)||void 0===n?void 0:null===(o=n.getPaymentPublicKey)||void 0===o?void 0:o.publicKey)&&void 0!==y?y:"",G={paymentCards:C,consumerStripeKey:F,paymentConfig:u,paymentConfigV2:D,loading:B.loading,error:B.error};return(0,e.Z)((0,d.Z)({},B),{data:G})},s=function(a){var b=r(a),c=b.data,d=b.loading,e=b.error,f=b.refetch,g=c.paymentCards;return{loading:d,error:e,refetch:f,data:g&&g.find(function(a){return a.isDefault})||null}}},41276:function(a,b,c){c.d(b,{Ft:function(){return e},Hw:function(){return g},b:function(){return f}});var d=c(16935),e=function(a){return null!=a&&a.type===d.Oh.PAYPAL},f=function(a){return(null==a?void 0:a.type)===d.Oh.VENMO},g=function(a,b){return!(b||null===a||e(a)||f(a))}},59486:function(a,b,c){c.d(b,{Yt:function(){return A},jQ:function(){return z},SF:function(){return y},mC:function(){return K},Ol:function(){return B}});var d=c(7297),e=c(80133),f=c(43500),g=c(53332),h=c(30658);function i(){var a=(0,d.Z)(["\n  fragment SubscriptionPaymentMethodFragment on DashPassUpsellConfirmationDetails {\n    subscriptionPaymentMethod {\n      id\n      stripeId\n      fingerprint\n      last4\n      dynamicLast4\n      expYear\n      expMonth\n      type\n      cardBenefitMembershipLinkStatus\n      membershipType {\n        partnerCardDisplayName\n        partnerCardLast4\n        partnerName\n      }\n    }\n  }\n"]);return i=function(){return a},a}var j=(0,e.Ps)(i()),k=c(27088);function l(){var a=(0,d.Z)(["\n  fragment CheckoutLineItemsFragment on OrderCart {\n    lineItemsList {\n      chargeId\n      label\n      originalMoney {\n        unitAmount\n        displayString\n      }\n      finalMoney {\n        unitAmount\n        displayString\n      }\n      tooltip {\n        title\n        paragraphs {\n          title\n          description\n        }\n      }\n      note\n      labelIcon\n      priceIcon\n      discountIcon\n      highlight\n      # lineItemCalloutModal will be implemented as a banner\n      lineItemCalloutModal {\n        title\n        description\n        type\n      }\n    }\n  }\n"]);return l=function(){return a},a}function m(){var a=(0,d.Z)(["\n  fragment CheckoutDiscountDetailsFragment on DiscountDetails {\n    message\n    appliedDiscount {\n      displayString\n      unitAmount\n    }\n    requiredAction\n  }\n"]);return m=function(){return a},a}function n(){var a=(0,d.Z)(["\n  fragment CheckoutConsumerPromotionFragment on CheckoutConsumerPromotion {\n    code\n    maxApplicableDeliveryCount\n    description\n    title\n    featuredOnApp\n    expiration\n    target\n  }\n"]);return n=function(){return a},a}function o(){var a=(0,d.Z)(["\n  fragment CheckoutOrderTimeAvailabilityFragment on OrderTimeAvailability {\n    scheduleLongerInAdvanceTime\n    timezone\n    days {\n      year\n      month\n      date\n      times {\n        display\n        timestamp\n        min\n        max\n        displayString\n      }\n    }\n  }\n"]);return o=function(){return a},a}function p(){var a=(0,d.Z)(["\n  fragment OrderCartDomainFragment on OrderCart {\n    domain {\n      giftInfo {\n        recipientName\n        recipientGivenName\n        recipientFamilyName\n        recipientPhone\n        recipientEmail\n        cardMessage\n        cardId\n        shouldNotifyTrackingToRecipientOnDasherAssign\n        shouldNotifyRecipientForDasherQuestions\n        senderName\n        shouldRecipientScheduleGift\n        hasGiftIntent\n      }\n    }\n  }\n"]);return p=function(){return a},a}function q(){var a=(0,d.Z)(["\n  fragment CheckoutDashPassUpsellFragment on OrderCart {\n    dashpassUpsell {\n      shouldShowDashpass\n      eligibleSubscriptionSavingDetails {\n        refundAmount {\n          displayString\n          unitAmount\n        }\n        feesAndTaxAfterSubscription {\n          displayString\n          unitAmount\n        }\n        deliveryFeeAfterSubscription {\n          displayString\n          unitAmount\n        }\n        totalAfterSubscription {\n          displayString\n          unitAmount\n        }\n        planDetails {\n          countryCode\n          upsellDetails {\n            checkboxTitle\n            checkboxSubtitle\n            upsellType\n            upsellLocation\n            checkboxTermsAndConditions {\n              type\n              value\n              url\n            }\n            upsellConfirmation {\n              title\n              termsAndConditions {\n                type\n                value\n                url\n              }\n              descriptionList {\n                type\n                text\n                descriptionList {\n                  type\n                  text\n                }\n              }\n              actionsList {\n                label\n                type\n                parametersList {\n                  key\n                  value\n                }\n              }\n              billingInfo\n              accessoryType\n              ...SubscriptionPaymentMethodFragment\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return q=function(){return a},a}function r(){var a=(0,d.Z)(["\n  fragment CheckoutSuperSaveUpsellFragment on OrderCart {\n    supersaveUpsell {\n      message\n    }\n  }\n"]);return r=function(){return a},a}function s(){var a=(0,d.Z)(["\n  fragment CheckoutAlcoholOrderInfoFragment on OrderCart {\n    alcoholOrderInfo {\n      title\n      description\n      bulletPointsList {\n        title\n        body\n      }\n      termsAndConditions {\n        text\n        hyperlink\n      }\n      warning\n      pbContinue\n      cancel\n    }\n  }\n"]);return s=function(){return a},a}function t(){var a=(0,d.Z)(["\n  fragment CheckoutDropoffOptionsFragment on OrderCart {\n    dropoffOptions {\n      id\n      displayString\n      placeholderText\n      isDefault\n      isEnabled\n      disabledMessage\n      proofOfDeliveryType\n    }\n  }\n"]);return t=function(){return a},a}function u(){var a=(0,d.Z)(["\n  fragment CheckoutBackendStylingFragment on StyledText {\n    displayString\n    textStyle\n    textColor\n    strikethroughOverrideText {\n      displayString\n      textStyle\n      textColor\n    }\n  }\n"]);return u=function(){return a},a}function v(){var a=(0,d.Z)(["\n  fragment ExpensedMealBudgetFragment on ExpenseOrderBudget {\n    id\n    name\n    budgetAddress {\n      printableAddress\n    }\n    availabilities {\n      startTimeOfDayOfWeek {\n        dayOfWeek\n        timeOfDay {\n          hours\n          minutes\n        }\n      }\n      endTimeOfDayOfWeek {\n        dayOfWeek\n        timeOfDay {\n          hours\n          minutes\n        }\n      }\n    }\n    maximumAmount {\n      currency\n      displayString\n      decimalPlaces\n      unitAmount\n    }\n    remainingAmount {\n      currency\n      displayString\n      decimalPlaces\n      unitAmount\n    }\n    refreshInterval\n    expenseCodeMode\n    expireDate\n  }\n"]);return v=function(){return a},a}function w(){var a=(0,d.Z)(["\n  fragment BeExperimentFlagsFragment on OrderCart {\n    beExperimentFlags {\n      enableNewScheduleAheadUi\n    }\n  }\n"]);return w=function(){return a},a}function x(){var a=(0,d.Z)(["\n  fragment CheckoutOrderCartFragment on OrderCart {\n    id\n    recurringDeliveryDetails {\n      recurringDeliveryDiscountDetails {\n        firstDeliveryDiscountPercentage\n        recurringDeliveryDiscountPercentage\n      }\n      recurringDeliveryMessagingDetails {\n        title\n        descriptionLineOne\n        descriptionLineTwo\n        learnMoreLinkUrl\n      }\n    }\n    hasError\n    groupCart\n    groupCartType\n    groupCartPollInterval\n    isCatering\n    cateringInfo {\n      cateringVersion\n      minOrderSize\n      maxOrderSize\n      orderInAdvanceInSeconds\n      cancelOrderInAdvanceInSeconds\n    }\n    containsAlcohol\n    foodAlcoholConstraintCartLevel\n    commissionMessage\n    urlCode\n    fulfillmentType\n    isConsumerPickup\n    isConvenienceCart\n    isDigitalWalletAllowed\n    isPreTippable\n    hideSalesTax\n    offersDelivery\n    offersPickup\n    paymentProtocol\n    isMerchantShipping\n    merchantShippingDayRangeString\n    merchantShippingDetails {\n      fullDeliveryNote\n      shortDeliveryNote\n    }\n    totalCreditsAvailable {\n      unitAmount\n      currency\n      displayString\n    }\n    creditsApplicableBeforeTip\n    creditsApplicableBeforeTipDetails {\n      unitAmount\n      currency\n      displayString\n    }\n    subtotal\n    total\n    totalSavings\n    taxAmount\n    tipAmount\n    merchantTipAmount\n    tipPercentageArgument\n    dasherFee\n    overauthTotal {\n      currency\n      unitAmount\n    }\n    legislativeFeeDetails {\n      label\n      unitAmount\n      displayString\n      message\n      tooltipMessage\n    }\n    deliveryFee\n    deliveryFeeDetails {\n      originalFee {\n        unitAmount\n      }\n    }\n    appliedServiceFee\n    minOrderFee\n    minOrderSubtotal\n    adsVertical\n    asapMinutesRange\n    asapTimeRange\n    asapPickupTimeRange\n    asapNumMinutesUntilClose\n    asapPickupNumMinutesUntilClose\n    extraSosDeliveryFee\n    fulfillsOwnDeliveries\n    maxIndividualCost\n    shortenedUrl\n    serviceRateMessage\n    isOutsideDeliveryRegion\n    asapDeliveryOverrideTitle\n    asapDeliveryOverrideSubtitle\n    asapDeliveryAvailable\n    asapPickupAvailable\n    scheduledDeliveryOptionQuoteMessage\n    isBundle\n    bundleDetails {\n      bundleStatusMessage\n    }\n    originalBundleOrderCartId\n    deliveryOptions {\n      deliveryOptionType\n      etaMinutesRange\n      optionTitle\n      optionOverrideTitle\n      optionSubtitle\n      optionHighlightedText\n      optionQuoteMessage\n      isScheduleDelivery\n      scheduledDeliveryTime\n      backendStyling {\n        title {\n          ...CheckoutBackendStylingFragment\n        }\n        subTitle {\n          ...CheckoutBackendStylingFragment\n        }\n        description {\n          ...CheckoutBackendStylingFragment\n        }\n        subDescription {\n          ...CheckoutBackendStylingFragment\n        }\n        tooltipLayout {\n          displayString\n          leadingIcon\n        }\n      }\n      isOptionSelectable\n    }\n    currencyCode\n    minAgeRequirement\n    selfDeliveryType\n    serviceRateDetails {\n      originalFee {\n        unitAmount\n      }\n    }\n    menu {\n      id\n      hoursToOrderInAdvance\n      name\n      minOrderSize\n      isCatering\n    }\n    creator {\n      id\n      firstName\n      lastName\n      localizedNames {\n        informalName\n        formalName\n        formalNameAbbreviated\n      }\n    }\n    isConvenienceCart\n    deliveries {\n      id\n      quotedDeliveryTime\n    }\n    submittedAt\n    providesExternalCourierTracking\n    orderTimeAvailability {\n      ...CheckoutOrderTimeAvailabilityFragment\n    }\n    tipSuggestions {\n      type\n      defaultIndex\n      values\n    }\n    tipsSuggestionsList {\n      type\n      defaultTipIndex\n      suggestions {\n        label\n        value\n        isDefault\n      }\n      tipMessaging {\n        checkoutTitle\n        checkoutSubtitle\n        splitBillTipSubtitle\n      }\n      tipRecipient\n    }\n    restaurant {\n      id\n      name\n      maxOrderSize\n      coverImgUrl\n      squareCoverImgUrl\n      shouldShowStoreLogo\n      slug\n      bulkSubstitutionPreference\n      isConsumerSubscriptionEligible\n      address {\n        printableAddress\n        street\n        lat\n        lng\n        state\n        country\n      }\n      business {\n        id\n        name\n      }\n      merchantPromotions {\n        minimumOrderCartSubtotal\n        newStoreCustomersOnly\n        deliveryFee\n      }\n      requiresCheckIn\n      offersPackageReturns\n      snapMerchantId\n    }\n    routineReorderTimeSlots {\n      startHour\n      endHour\n    }\n    routineReorderWeekIntervals\n    supplementalPaymentEligibleAmountsList {\n      amount {\n        type\n        eligibleAmount {\n          currency\n          displayString\n          decimalPlaces\n          unitAmount\n          sign\n        }\n      }\n      title\n      description\n    }\n    orders {\n      id\n      consumer {\n        id\n        firstName\n        lastName\n        localizedNames {\n          informalName\n          formalName\n          formalNameAbbreviated\n        }\n      }\n      isSubCartFinalized\n      paymentCard {\n        id\n        stripeId\n      }\n      paymentLineItems {\n        subtotal\n        taxAmount\n        subtotalTaxAmount\n        feesTaxAmount\n        serviceFee\n      }\n      orderItems {\n        id\n        options {\n          id\n          name\n          quantity\n          price\n          nestedOptions\n        }\n        nestedOptions\n        specialInstructions\n        substitutionPreference\n        quantity\n        singlePrice\n        priceOfTotalQuantity\n        priceDisplayString\n        nonDiscountPriceDisplayString\n        continuousQuantity\n        unit\n        purchaseType\n        estimatedPricingDescription\n        isRoutineReorderEligible\n        bundleStore {\n          id\n          name\n          isPrimary\n        }\n        increment {\n          decimalPlaces\n          unitAmount\n        }\n        discounts {\n          ...OrderItemDiscountFragment\n        }\n        item {\n          id\n          restrictionInfo {\n            type\n            rulesList {\n              ruleName\n              intValue\n              stringValue\n              boolValue\n              floatValue\n            }\n          }\n          imageUrl\n          name\n          price\n          minAgeRequirement\n          category {\n            title\n          }\n          extras {\n            id\n            title\n            description\n          }\n          itemTagsList {\n            tagType\n            localizedName\n            shortName\n            id\n            description\n            displayType\n          }\n        }\n        itemLevelDiscountMonetaryFields {\n          currency\n          displayString\n          decimalPlaces\n          unitAmount\n        }\n        giftInfo {\n          ...CartItemGiftInfoFragment\n        }\n      }\n      isOrderRoutineReorderEligible\n    }\n    menuOptions {\n      id\n      localizedTitle\n      selection\n    }\n    storeDisclaimers {\n      id\n      disclaimerDetailsLink\n      disclaimerLinkSubstring\n      disclaimerText\n      displayTreatment\n    }\n    storeOrderCarts {\n      id\n      store {\n        id\n      }\n    }\n    consumerPromotion {\n      ...CheckoutConsumerPromotionFragment\n    }\n    allConsumerPromotion {\n      ...CheckoutConsumerPromotionFragment\n    }\n    discountDetails {\n      ...CheckoutDiscountDetailsFragment\n    }\n    expenseOrderOptions {\n      expenseCodeMode\n      allEligibleExpensedMealsBudgets {\n        ...ExpensedMealBudgetFragment\n      }\n    }\n    # all amount reflect amount when 0 tip is applied\n    companyPaymentInfo @include(if: $includeCompanyPaymentInfo) {\n      totalAmount {\n        # grant total of the order (company + Individual amount)\n        unitAmount\n        displayString\n      }\n      companyAmount {\n        # grant total company will pay\n        unitAmount\n        displayString\n      }\n      maxBudgetAmount {\n        # budget amount allocated by company\n        unitAmount\n        displayString\n      }\n      individualAmount {\n        # grant total amount individual will pay\n        unitAmount\n        displayString\n      }\n      creditsApplied {\n        # credits used by Individual on order\n        unitAmount\n        displayString\n      }\n      teamOrderInfo {\n        teamId\n        budgetId\n      }\n      budgetPayerName # Name of the bduget payer\n    }\n    teamAccount {\n      id\n      name\n    }\n    creditsBackDetails {\n      creditsbackText\n      creditsbackType\n      totalCreditsbackAmountMonetaryFields {\n        currency\n        displayString\n        decimalPlaces\n        unitAmount\n      }\n    }\n    eligibleSubscription {\n      shouldShowDashpass\n      eligibleSubscriptionSavingDetails {\n        fee {\n          displayString\n        }\n        minimumSubtotal {\n          displayString\n        }\n        refundAmount {\n          displayString\n          unitAmount\n        }\n        recurrenceIntervalUnits\n        recurrenceIntervalType\n      }\n    }\n    isDashpassApplied\n    differentialPricingDetails {\n      isEnabled\n      message\n      disclaimerTitle\n      disclaimerMessage\n    }\n    ageRestrictedIdVerificationInfo {\n      ageRestrictedIdVerificationStatus\n      ageRestrictedIdVerificationVendor\n      idPhotoUrl\n      vendorAccountId\n      isBouncerCase\n    }\n    signatureRequired\n    messagesAndBanners {\n      loyaltyCard {\n        title\n        shouldShow\n        description {\n          prefix\n          suffix\n          amount {\n            currency\n            unitAmount\n            sign\n          }\n        }\n      }\n      totalSavingsMessage {\n        title\n        description\n        amount {\n          currency\n          unitAmount\n          sign\n        }\n      }\n      hsaFsaDetails {\n        title\n        acceptText\n        bodyLineItemsList {\n          text {\n            value\n          }\n        }\n      }\n\n      menuPriceDisclaimer {\n        message\n      }\n\n      packageReturnsDisclaimer {\n        title\n        description\n        disclaimer\n        acceptText\n        cancelText\n        bodyLineItemsList {\n          title\n          description\n          icon\n        }\n      }\n      deliveryPromiseDetails {\n        deliveryPromiseBanner {\n          action {\n            label\n            type\n            parametersList {\n              key\n              value\n            }\n          }\n          badgeType\n          title\n          sectionsList {\n            badgeUrl\n            text\n            type\n            descriptionList {\n              badgeUrl\n              text\n              type\n              descriptionList {\n                badgeUrl\n                text\n                type\n              }\n            }\n          }\n        }\n        lateOrderCreditUpsell {\n          checkboxTitle\n          checkboxSubtitle\n          upsellType\n          upsellLocation\n          checkboxTermsAndConditions {\n            type\n            value\n            url\n          }\n          upsellConfirmation {\n            headerBadge\n            billingInfo\n            accessoryType\n            title\n            termsAndConditions {\n              type\n              value\n              url\n            }\n            descriptionList {\n              type\n              text\n              descriptionList {\n                type\n                text\n              }\n            }\n            actionsList {\n              label\n              type\n              parametersList {\n                key\n                value\n              }\n            }\n            ...SubscriptionPaymentMethodFragment\n          }\n        }\n      }\n      savingsCelebrationBanner {\n        title\n        subtitle\n        savingsAmount\n      }\n    }\n    applicableMxLoyaltyRewards {\n      rewardsList {\n        discountTarget\n        source\n        value {\n          type\n          flatAmountOff {\n            unitAmount\n            currency\n            displayString\n            decimalPlaces\n            sign\n            symbol\n          }\n        }\n        identifier {\n          id\n          code\n        }\n        name\n        quantity\n      }\n      rewardsTotal\n    }\n    appliedMxLoyaltyRewards {\n      rewardsList {\n        discountTarget\n        source\n        value {\n          type\n          flatAmountOff {\n            unitAmount\n            currency\n            displayString\n            decimalPlaces\n            sign\n            symbol\n          }\n        }\n        identifier {\n          id\n          code\n        }\n        name\n        quantity\n      }\n      rewardsTotal\n    }\n    applicableExternalGiftCardDetails {\n      externalGiftCardsList {\n        externalGiftCardNumberToken\n        valueToRedeem {\n          unitAmount\n          currency\n          displayString\n          decimalPlaces\n        }\n      }\n    }\n    lineItemTooltipData {\n      lineItem {\n        chargeId\n        label\n        originalMoney {\n          unitAmount\n          displayString\n        }\n        finalMoney {\n          unitAmount\n          displayString\n        }\n        tooltip {\n          title\n          paragraphs {\n            title\n            description\n          }\n        }\n        note\n        labelIcon\n        priceIcon\n        discountIcon\n        highlight\n      }\n      lineItemBottomsheet {\n        ...UiFlowScreenFragment\n      }\n    }\n    discountBannerDetails {\n      discountDetailsMessage\n      discountDetailsMessageTitle\n      discountDetailsMessageDescription\n      isNewDashpassUser\n      minimumSubtotalPercentage\n      requiredAction\n      badgeType\n      promotionId\n      bannerType\n      bannerLocationList\n      discountBannerBottomSheet {\n        ...UiFlowScreenFragment\n      }\n      upsellBannerAction {\n        checkboxTitle\n        checkboxSubtitle\n        upsellType\n        upsellLocation\n        checkboxTermsAndConditions {\n          type\n          value\n          url\n        }\n        upsellConfirmation {\n          billingInfo\n          accessoryType\n          title\n          termsAndConditions {\n            type\n            value\n            url\n          }\n          descriptionList {\n            type\n            text\n            descriptionList {\n              type\n              text\n            }\n          }\n          actionsList {\n            label\n            type\n            parametersList {\n              key\n              value\n            }\n          }\n          ...SubscriptionPaymentMethodFragment\n        }\n      }\n    }\n    rewardBalanceAvailable @include(if: $includeRewardBalanceAvailable) {\n      monetaryValue {\n        currency\n        displayString\n        unitAmount\n      }\n      transactionAmount {\n        amount\n        conversionRate\n        label\n      }\n    }\n    ...InvalidItemsFragment\n    ...CheckoutLineItemsFragment\n    ...OrderCartDomainFragment\n    ...CheckoutDashPassUpsellFragment\n    ...CheckoutSuperSaveUpsellFragment\n    ...CheckoutAlcoholOrderInfoFragment\n    ...CheckoutDropoffOptionsFragment\n    ...BeExperimentFlagsFragment\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return x=function(){return a},a}var y=(0,e.Ps)(l()),z=(0,e.Ps)(m()),A=(0,e.Ps)(n()),B=(0,e.Ps)(o()),C=(0,e.Ps)(p()),D=(0,e.Ps)(q(),j),E=(0,e.Ps)(r()),F=(0,e.Ps)(s()),G=(0,e.Ps)(t()),H=(0,e.Ps)(u()),I=(0,e.Ps)(v()),J=(0,e.Ps)(w()),K=(0,e.Ps)(x(),g.j,y,z,A,B,C,D,E,F,G,H,I,f.Xv,h.nq,j,J,k.z)},46716:function(a,b,c){c.d(b,{LK:function(){return j},ZB:function(){return i}});var d=c(7297),e=c(67294),f=c(80133),g=c(46447);function h(){var a=(0,d.Z)(["\n  fragment PaymentMethodFragment on PaymentMethodConfig {\n    provider\n    key\n    country\n    zipRequired\n  }\n"]);return h=function(){return a},a}var i=(0,f.Ps)(h()),j=function(a,b){var c=(0,g.fF)(a,b);return e.useMemo(function(){return(0,g.k4)(c)},[c,])}},46447:function(a,b,c){c.d(b,{E8:function(){return k},Hk:function(){return l},fF:function(){return n},k4:function(){return p}});var d=c(26042),e=c(7297),f=c(80133),g=c(93241);function h(){var a=(0,e.Z)(["\n  fragment PaymentMethodConfigV2Fragment on PaymentMethodV2Config {\n    provider\n    zipRequired\n    fraudConfigs {\n      key\n      provider\n    }\n    capabilities\n  }\n"]);return h=function(){return a},a}function i(){var a=(0,e.Z)(["\n  fragment PaymentProviderConfigV2Fragment on PaymentMethodProviderConfigData {\n    key\n    country\n    accountId\n    environment\n  }\n"]);return i=function(){return a},a}function j(){var a=(0,e.Z)(["\n  ","\n\n  ","\n\n  query getPaymentConfigV2($country: String) {\n    getPaymentConfigV2(country: $country) {\n      paymentConfigToken\n      cardConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      paypalConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      applePayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      googlePayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      venmoConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      afterpayConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      ebtConfig {\n        ...PaymentMethodConfigV2Fragment\n      }\n      providerConfigs {\n        vgs {\n          ...PaymentProviderConfigV2Fragment\n        }\n        stripe {\n          ...PaymentProviderConfigV2Fragment\n        }\n        braintree {\n          ...PaymentProviderConfigV2Fragment\n        }\n        jpm {\n          ...PaymentProviderConfigV2Fragment\n        }\n      }\n    }\n  }\n"]);return j=function(){return a},a}var k=(0,f.Ps)(h()),l=(0,f.Ps)(i()),m=(0,f.Ps)(j(),k,l),n=function(a,b){var c,d,e=(0,g.a)(m,{fetchPolicy:"cache-first",errorPolicy:"all",variables:{country:a},skip:b});return null!==(d=null==e?void 0:null===(c=e.data)||void 0===c?void 0:c.getPaymentConfigV2)&&void 0!==d?d:null},o=function(a,b){if(!b||!a)return{country:null,key:null};var c,d,e=a[b];return{country:null!==(c=null==e?void 0:e.country)&&void 0!==c?c:null,key:null!==(d=null==e?void 0:e.key)&&void 0!==d?d:null}},p=function(a){var b,c,e,f,g,h,i,j,k,l,m,n,p,q,r,s,t,u,v,w;return a?{__typename:"PaymentConfig",paymentConfigToken:null==a?void 0:a.paymentConfigToken,cardConfig:(0,d.Z)({__typename:"PaymentMethodConfig",provider:null!==(p=null===(b=a.cardConfig)||void 0===b?void 0:b.provider)&&void 0!==p?p:null,zipRequired:null!==(q=null==a?void 0:null===(c=a.cardConfig)||void 0===c?void 0:c.zipRequired)&&void 0!==q?q:null},o(a.providerConfigs,null===(e=a.cardConfig)||void 0===e?void 0:e.provider)),applePayConfig:(0,d.Z)({__typename:"PaymentMethodConfig",provider:null!==(r=null===(f=a.applePayConfig)||void 0===f?void 0:f.provider)&&void 0!==r?r:null,zipRequired:null!==(s=null===(g=a.applePayConfig)||void 0===g?void 0:g.zipRequired)&&void 0!==s?s:null},o(a.providerConfigs,null===(h=a.applePayConfig)||void 0===h?void 0:h.provider)),googlePayConfig:(0,d.Z)({__typename:"PaymentMethodConfig",provider:null!==(t=null===(i=a.googlePayConfig)||void 0===i?void 0:i.provider)&&void 0!==t?t:null,zipRequired:null!==(u=null===(j=a.googlePayConfig)||void 0===j?void 0:j.zipRequired)&&void 0!==u?u:null},o(a.providerConfigs,null===(k=a.googlePayConfig)||void 0===k?void 0:k.provider)),paypalConfig:(0,d.Z)({__typename:"PaymentMethodConfig",provider:null!==(v=null===(l=a.paypalConfig)||void 0===l?void 0:l.provider)&&void 0!==v?v:null,zipRequired:null!==(w=null===(m=a.paypalConfig)||void 0===m?void 0:m.zipRequired)&&void 0!==w?w:null},o(a.providerConfigs,null===(n=a.paypalConfig)||void 0===n?void 0:n.provider)),v2:a}:null}},96303:function(a,b,c){c.d(b,{F:function(){return r},Jq:function(){return z},Mi:function(){return F},PG:function(){return H},Uj:function(){return u},V_:function(){return E},Ve:function(){return D},Vg:function(){return G},Vy:function(){return x},ZU:function(){return A},eo:function(){return v},vw:function(){return s},x7:function(){return y}});var d,e,f=c(67294),g=c(70573),h=c(16130),i=c(34788),j=c(16935),k=c(11459),l=c(4831),m=c(23685),n=c(43933),o=c(38303),p=c(3532),q=c(47715),r=function(){var a,b,c=f.useContext(h.iB).orderCart,d=null==c?void 0:null===(a=c.restaurant)||void 0===a?void 0:a.address;if(!d)return"";var e=(0,n.ZP)(d);return null!==(b=(0,l.Nn)(e))&&void 0!==b?b:""},s=function(){var a,b=f.useContext(i.Z).consumer;return null===(a=(0,l.ed)(b.defaultAddress))||void 0===a?void 0:a.countryCode},t=[k.x1.status_degraded,k.x1.status_down,],u=function(){var a,b=null===(a=f.useContext(i.Z).consumer.defaultAddress)||void 0===a?void 0:a.countryCode;return null!=b?b:"US"},v=function(a){var b;return t.includes(null==a?void 0:null===(b=a.paymentMethodAvailability)||void 0===b?void 0:b.paymentMethodAvailabilityStatus)},w=function(a){return j.Ec.has(a)},x=function(a){return w(a)?a:j.Oh.CARD},y=function(a){var b=a.paymentMethod,c=a.isCheckout,d=a.useShortMessage;return void 0!==c&&c&&v(b)&&(null==b?void 0:b.type)?void 0!==d&&d?m.ZP.t("checkoutStrings_unavailable"):w(b.type)?m.ZP.t("paymentMethodStrings_guided_recovery_noncard",{type:b.type}):m.ZP.t("paymentMethodStrings_guided_recovery_card"):null},z=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=y({paymentMethod:a,isCheckout:c,useShortMessage:!0});return null!=d?d:null==b?void 0:b[null==a?void 0:a.type]},A=function(a){var b=new Set,c=!0,d=!1,e=void 0;try{for(var f,g=(null!=a?a:[])[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;(null==h?void 0:h.type)&&b.add(x(h.type))}}catch(i){d=!0,e=i}finally{try{c||null==g.return||g.return()}finally{if(d)throw e}}return b.size};(e=d||(d={})).addPaymentMethodStripe="cx_add_payment_method_stripe",e.addPaymentMethodVGS="cx_add_payment_method_vgs";var B="critical_action",C=(0,o.y)(p.ZP),D=function(a){C({name:d.addPaymentMethodVGS,duration:a,time:a,action_type:B})},E=function(a){C({name:d.addPaymentMethodStripe,duration:a,time:a,action_type:B})},F=function(){return(0,g.useDVSBoolean)(q.PR.skipListPMAfterSetDefaultPM,!1)},G=function(){return(0,g.useDVSBoolean)(q.PR.skipListPMAfterAddPM,!1)},H=function(){return(0,g.useDVSBoolean)(q.PR.skipListPMAfterDeletePM,!1)}},80167:function(a,b,c){c.d(b,{V:function(){return e}});var d=c(11459),e=function(a){return a!==d.m0.REQUIRES_ANY_FOOD_ITEM}},43933:function(a,b,c){c.d(b,{t8:function(){return e}});var d="United States",e=function(a){var b;return a?((null==a?void 0:a.country)||(null==a?void 0:null===(b=a.printableAddress)||void 0===b?void 0:b.split(",").pop())||d).trim():d};b.ZP=e},75423:function(a,b,c){c.d(b,{KQ:function(){return h},NQ:function(){return f},Sj:function(){return g},wW:function(){return i}});var d=c(70573),e=c(47715),f=function(a){var b=(0,d.useDVSString)(e.PR.dashCardDashPassPlanIds,"");return(b?b.split(",").map(function(a){return a.trim()}):[]).includes(a)},g=function(){return(0,d.useDVSBoolean)(e.PR.cxWebDashCardApplicationFlowMenuEntryPoint,!1)},h=function(){return(0,d.useDVSBoolean)(e.PR.cxWebDashCardUseRewardsPointsAppliedCache,!1)},i=function(){return(0,d.useDVSBoolean)(e.PR.cxWebDashCardPaymentEntryPoint,!1)}},10509:function(a,b,c){c.d(b,{Gl:function(){return u},Hj:function(){return o},NT:function(){return v},Nq:function(){return q},R3:function(){return t},VK:function(){return n},Vb:function(){return p},kz:function(){return m},y2:function(){return r}});var d=c(67294),e=c(89261),f=c(54425),g=c(12691),h=c(72297),i=c(16130),j=c(53259),k=c(30778),l="dd_dcp",m=0,n=function(a){var b=p();return b?o(a,b)?(r(),m):b.amount||m:m},o=function(a,b){return a.cartId!==b.cartId||a.storeId!==b.storeId||a.currency!==b.currency},p=function(){return e.ZP.get(l)},q=function(a){e.ZP.set(l,a,2592e3)},r=function(){e.ZP.delete(l)},s=function(a,b,c){var d=a;return d>b&&(d=b),d>c&&(d=c),d},t=function(a){var b,c=d.useContext(h.ZP),e=c.potentialDashPassRefundAmount,f=c.totalWithTipBeforeCredits,g=c.tips,l=d.useContext(i.iB).orderCart,m=l.rewardBalanceAvailable,n=(null==m?void 0:null===(b=m.monetaryValue)||void 0===b?void 0:b.unitAmount)||0,o=d.useMemo(function(){var a=new j.ZP(l),b=g.map(function(a){return a.value});return(0,k.vi)({accountCredits:a.applicableCredits(b),companyPay:a.companyPayTotal(b),refund:e,totalWithTipBeforeCredits:f})},[l,e,g,f,]);return{amountDueWithoutPoints:o,computedDashCardPointsAmount:s(a,n,o)}},u=function(a){var b=v(),c=t(a).computedDashCardPointsAmount;return b&&0!==c?{rewardBalanceApplied:{unitAmount:c}}:null},v=function(){var a=(0,f.useExperience)(),b=a.isCaviar,c=a.isDoorDash,d=(0,g.TH)(),e=(0,g.tv)(),h=((null==e?void 0:e.asPath)||(null==d?void 0:d.pathname)||"").startsWith("/consumer/checkout");return(b||c)&&h}},11406:function(a,b,c){c.d(b,{IM:function(){return f},U3:function(){return i},Zm:function(){return j},gh:function(){return h},nu:function(){return k},p4:function(){return g}});var d=c(54425),e=c(10509),f=function(a){var b;return(null==a?void 0:null===(b=a.metadata)||void 0===b?void 0:b.isDashCard)||!1},g=function(){var a=(0,d.useExperience)(),b=a.isCaviar,c=a.isDoorDash;return b||c},h=function(a){return!!a.find(function(a){return a.isDefault&&f(a)})},i=function(a){return a.find(function(a){return f(a)})},j=function(a){return!!a&&!!i(a)},k=function(a){var b=f(a),c=(0,e.NT)();return b&&c}},43500:function(a,b,c){c.d(b,{Os:function(){return i},XD:function(){return j},Xv:function(){return k}});var d=c(7297),e=c(80133);function f(){var a=(0,d.Z)(["\n  fragment ActionsListFragment on UIFlowAction {\n    label\n    type\n    actionDisplayType\n    actionParametersList {\n      key\n      value\n    }\n    postAction\n    postActionParametersList {\n      key\n      value\n    }\n  }\n"]);return f=function(){return a},a}function g(){var a=(0,d.Z)(["\n  fragment SectionsListFragment on UIFlow {\n    sectionsList {\n      type\n      contentList\n      alignment\n      action {\n        label\n        type\n      }\n    }\n  }\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  fragment UiFlowScreenFragment on UIFlow {\n    screenDisplayType\n    screenIdentifier\n    allowBackNavigation\n    sectionsList {\n      type\n      contentList\n      richContentList {\n        contentList\n        formatStyleList\n        formatColor\n        formatType\n        formatAlignment\n      }\n      selectContentList {\n        selectContentId\n        contentList\n      }\n      alignment\n      action {\n        label\n        type\n        screen {\n          screenDisplayType\n          screenIdentifier\n          ...SectionsListFragment\n          actionsList {\n            ...ActionsListFragment\n            screen {\n              screenDisplayType\n              screenIdentifier\n              ...SectionsListFragment\n              actionsList {\n                ...ActionsListFragment\n              }\n            }\n          }\n        }\n        actionDisplayType\n        actionParametersList {\n          key\n          value\n        }\n        postAction\n        postActionParametersList {\n          key\n          value\n        }\n      }\n    }\n    actionsList {\n      ...ActionsListFragment\n    }\n    analytics {\n      metadataList {\n        key\n        value\n      }\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return a},a}var i=(0,e.Ps)(f()),j=(0,e.Ps)(g()),k=(0,e.Ps)(h(),i,j)},82262:function(a,b,c){c.d(b,{Uw:function(){return o},ao:function(){return l},cs:function(){return p},gS:function(){return i},lv:function(){return n},uB:function(){return h}}),(d=g||(g={})).DEFAULT_NOT_REQUIRED="DEFAULT_NOT_REQUIRED",d.OPTIONAL_CODE="OPTIONAL_CODE",d.ENFORCED_CODE="ENFORCED_CODE",d.ENFORCED_LIST="ENFORCED_LIST",(e=h||(h={})).CODE="EXPENSE_CODE",e.NOTE="EXPENSE_NOTE",(f=i||(i={})).TOO_LONG="Too Long",f.INVALID_SEQUENCE="Invalid sequence",f.INVALID_CHARACTER="Invalid character";var d,e,f,g,h,i,j=[g.OPTIONAL_CODE,g.ENFORCED_CODE,g.ENFORCED_LIST,],k=[g.ENFORCED_CODE,g.ENFORCED_LIST,],l=function(a){var b,c,d,e=null!==(c=null==a?void 0:null===(b=a.expenseOrderOptions)||void 0===b?void 0:b.expenseCodeMode)&&void 0!==c?c:"",f=(d=e,Object.values(g).includes(d))?e:g.DEFAULT_NOT_REQUIRED;return{expenseCodeMode:f,shouldRenderExpenseCodeField:j.includes(f)}},m=function(a,b){var c=b===h.CODE?50:250;return(a||"").length>c},n=function(a){var b;return!!k.map(function(a){return a.toString()}).includes((null===(b=a.expenseOrderOptions)||void 0===b?void 0:b.expenseCodeMode)||"")},o=function(a,b){return!n(a)||Boolean(b)&&b.trim().length>0},p=function(a,b){var c,d=!0,e=[];return m(a,b)&&(d=!1,e.push(i.TOO_LONG)),c=a,/([^\w\s-:,+\.@])/.test(c)&&(d=!1,e.push(i.INVALID_CHARACTER)),((a||"").includes("javascript:")||(a||"").includes("data:"))&&(d=!1,e.push(i.INVALID_SEQUENCE)),{isValid:d,invalidReason:e}}}}])