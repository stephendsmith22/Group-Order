"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18152],{36819:function(a,b,c){c.d(b,{g:function(){return l}});var d=c(10253),e=c(85893),f=c(67294),g=c(3014),h=c(89261),i=c(33795),j=f.createContext(null),k=function(a){var b=a.children,c=(0,g.M)().enableSaveForLater,k=(0,h.XR)(),l=(0,d.Z)(f.useState(function(){var a=k.get(i.Zv);return null!=a&&a}),2),m=l[0],n=l[1],o=f.useRef(null),p=f.useCallback(function(){n(!0),k.set(i.Zv,JSON.stringify(!1)),o.current=window.setTimeout(function(){n(!1)},i.xy)},[k]);f.useEffect(function(){return function(){o.current&&(window.clearTimeout(o.current),o.current=null)}},[]);var q=f.useMemo(function(){return{shouldShowTooltip:!!c&&m,showTooltipHandler:c?p:function(){}}},[c,m,p]);return(0,e.jsx)(j.Provider,{value:q,children:b})},l=function(){var a=f.useContext(j);if(!a)throw Error("useSaveStoresFirstTimeExperience hook must be used within SaveStoresFirstTimeExperienceContextProvider");return a};b.Z=k},31580:function(a,b,c){c.d(b,{A:function(){return h},U:function(){return i}});var d=c(10253),e=c(85893),f=c(67294),g=f.createContext({isControlledScrolling:!1,setIsControlledScrolling:function(){}}),h=function(a){var b=a.children,c=(0,d.Z)(f.useState(!1),2),h=c[0],i=c[1],j=f.useMemo(function(){return{isControlledScrolling:h,setIsControlledScrolling:i}},[h,i]);return(0,e.jsx)(g.Provider,{value:j,children:b})},i=function(){return f.useContext(g)}},60163:function(a,b,c){c.d(b,{FL:function(){return h},H:function(){return i},LI:function(){return n},R8:function(){return l},"_T":function(){return m},dK:function(){return o},fb:function(){return k},s9:function(){return g},yV:function(){return j}});var d=c(26042),e=c(17563),f=c(70114),g=function(a){var b=a.url,c=a.storeUrlSlug,e=a.additionalRouteParams,g=a.additionalQueryParams;return(0,f.LT)(b,(0,d.Z)({storeUrlSlug:c},e),g)},h=function(a){var b=a.url,c=a.storeUrlSlug,e=a.categoryUrlSlug,g=a.additionalRouteParams,h=a.additionalQueryParams;return(0,f.LT)(b,(0,d.Z)({storeUrlSlug:c,categoryUrlSlug:e},g),h)},i=function(a){var b=a.url,c=a.storeUrlSlug,e=a.categoryUrlSlug,g=a.subCategoryUrlSlug,h=a.additionalRouteParams,i=a.additionalQueryParams;return(0,f.LT)(b,(0,d.Z)({storeUrlSlug:c,categoryUrlSlug:e,subCategoryUrlSlug:g},h),i)},j=function(a){var b=a.url,c=a.storeUrlSlug,e=a.collectionUrlSlug,g=a.additionalRouteParams;return(0,f.LT)(b,(0,d.Z)({storeUrlSlug:c,collectionUrlSlug:e},g))},k=function(a){var b=a.url,c=a.storeUrlSlug,e=a.additionalRouteParams;return(0,f.LT)(b,(0,d.Z)({storeUrlSlug:c},e))},l=function(a){var b=a.url,c=a.storeUrlSlug,e=a.searchQuery,g=a.searchKey,h=a.attrSrc,i=a.disableSpellCheck,j=a.categoryId,k=a.subCategoryId,l=a.collectionId,m=a.additionalRouteParams,n=a.additionalQueryParams,o={attr_src:h,disable_spell_check:i};return g&&(o.searchKey=g),j&&(o.categoryId=j),k&&(o.subCategoryId=k),l&&(o.collectionId=l),(0,f.LT)(b,(0,d.Z)({storeUrlSlug:c,searchQuery:encodeURIComponent(e)},m),(0,d.Z)({},o,n))},m=function(a){var b=a.storeId,c=a.productId,d=a.searchParams;return e.stringifyUrl({url:"/convenience/store/".concat(b,"/product-details/").concat(c),query:d})},n=function(a){var b=a.businessId,c=a.msId;return e.stringifyUrl({url:"/browse/merchants/".concat(b,"/products/").concat(c)})},o=function(a){var b=a.storeId,c=a.productId,f=a.searchParams,g=a.searchString,h=void 0===g?null==location?void 0:location.search:g,i=e.parse(h||"");return m({storeId:b,productId:c,searchParams:(0,d.Z)({},i,f)})}},20132:function(a,b,c){c.d(b,{Z:function(){return q}});var d=c(85893),e=c(10071);c(67294);var f=c(7297),g=c(87379);function h(){var a=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: ","px;\n  margin-top: ","px;\n  ","\n"]);return h=function(){return a},a}function i(){var a=(0,f.Z)(["\n  margin-bottom: ","px;\n"]);return i=function(){return a},a}function j(){var a=(0,f.Z)(["\n  white-space: pre-line;\n"]);return j=function(){return a},a}var k=g.default.div.withConfig({componentId:"sc-78cbd0a-0"})(h(),e.Spacing.XxLarge+e.Spacing.XxSmall,e.Spacing.XxxLarge+e.Spacing.XxSmall,function(a){return a.isMobileTablet&&"margin-top: ".concat(e.Spacing.XxLarge+e.Spacing.XxSmall,"px;")}),l=g.default.img.withConfig({componentId:"sc-78cbd0a-1"})(i(),e.Spacing.Large),m=(0,g.default)(e.Text).withConfig({componentId:"sc-78cbd0a-2"})(j()),n=c(45481),o=c(88311),p=c(23685),q=function(a){var b=a.primaryText,c=void 0===b?p.ZP.t("search_noSearchResults_title"):b,f=a.secondaryText,g=(0,o.ac)().isMobileTablet;return(0,d.jsxs)(k,{isMobileTablet:g,children:[(0,d.jsx)(l,{src:(0,n.O1)("https://img.cdn4dd.com/s/managed/consumer/search/NoResult.svg"),alt:p.ZP.t("search_noSearchResults_title")}),(0,d.jsxs)(e.StackChildren,{size:e.StackChildren.Sizes.XxSmall,children:[(0,d.jsx)(e.Text,{styles:e.Text.Styles.Title1,color:e.Text.Colors.TextPrimary,textAlign:e.Text.TextAlignments.Center,maxLines:1,overflow:e.Text.Overflows.Truncate,children:c}),f&&(0,d.jsx)(m,{styles:e.Text.Styles.Body1,color:e.Text.Colors.TextSecondary,textAlign:e.Text.TextAlignments.Center,children:f})]})]})}},55789:function(a,b,c){c.d(b,{zP:function(){return v.zP},ZP:function(){return y}});var d=c(29815),e=c(85893),f=c(67294),g=c(66021),h=c(10220),i=function(a){var b=a.numberOfItems,c=a.itemSizes,d=a.bounds,e=a.isMobileServerSide,f=a.gapSizes,i=(0,h.I$)(c,d.width,e,f),j=i.width,k=i.height,l=Math.max(1,Math.floor(d.width/j)),m=(0,h.ii)(f,e),n=(0,h.mA)(c,j,d.width,e,m,l),o=-1,p=-1,q=(0,g.f)(d,{x:0,y:0,width:window.innerWidth,height:window.innerHeight});return(0,g.I)(q)>0&&(p=(o=d.y<0?Math.floor(Math.abs(d.y)/k):0)+Math.ceil(q.height/k)),{rows:Math.floor(b/l)+Math.min(1,b%l),itemsPerRow:l,intervalX:n,intervalY:k,itemWidth:j,itemHeight:k,firstRow:o,lastRow:p}},j=c(51438),k=function(){function a(){(0,j.Z)(this,a),this.current={},this.next={},this.reset()}var b=a.prototype;return b.get=function(a){var b=this.current[a];return b&&(this.next[a]=b),b},b.set=function(a,b){this.next[a]=b},b.flip=function(){this.current=this.next,this.next={}},b.reset=function(){this.current={},this.next={}},a}(),l=c(7297),m=c(87379),n=c(10071);function o(){var a=(0,l.Z)(["\n  width: 100%;\n  position: relative;\n"]);return o=function(){return a},a}function p(){var a=(0,l.Z)(["\n  position: absolute;\n  // when used as an empty placeholder, show a theme provided background\n  &:empty {\n    border-radius: ","px;\n    background-color: ",";\n  }\n"]);return p=function(){return a},a}function q(){var a=(0,l.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n"]);return q=function(){return a},a}var r=m.default.div.withConfig({componentId:"sc-60358c76-0"})(o()),s=(0,n.withTheming)(m.default.div.withConfig({componentId:"sc-60358c76-1"})(p(),n.Spacing.Small,function(a){return a.theme.Colors.BackgroundSecondary})),t=m.default.div.withConfig({componentId:"sc-60358c76-2"})(q()),u=c(4082),v=c(41001),w=c(51545),x={left:0,top:0,right:0,bottom:0},y=function(a){var b=a.getItem,c=a.itemsKey,g=a.numberOfItems,h=a.itemSizes,j=a.gapSizes,l=a.defaultHeight,m=a.inset,n=void 0===m?x:m,o=(0,f.useRef)(null),p=(0,f.useRef)(new k),q=(0,f.useState)([]),v=q[0],y=(0,f.useState)(null),z=y[0],A=y[1],B=(0,f.useState)(null),C=B[0],D=B[1],E=(0,f.useState)(!1),F=E[0],G=E[1],H=(0,u.bp)().isMobileServerSide,I=(0,f.useCallback)(function(){var a,b=null==o?void 0:null===(a=o.current)||void 0===a?void 0:a.getBoundingClientRect();if(b){var c=i({numberOfItems:g,gapSizes:j,itemSizes:h,bounds:b,isMobileServerSide:H});return A(c),c}return null},[o,h,j,A,g,H,]),J=(0,f.useCallback)(function(){var a=I(),c=[];if(a){var f=a.firstRow,h=a.lastRow;if(f>=0&&h>=0)for(var i=f;i<=h;i+=1){var j,k=function(c){var d=[];if(a)for(var f=a.itemsPerRow,h=a.intervalX,i=a.intervalY,j=a.itemWidth,k=0;k<f;k+=1){var l=h*k,m=i*c,n={width:"".concat(j,"px"),height:"".concat(i,"px"),transform:"translate(".concat(l,"px, ").concat(m,"px)")},o=k+c*f;if(o<g){var q=p.current.get(o);if(!q){var r=!v[o];v[o]=!0,q=(0,e.jsx)(t,{style:n,children:b(o,r)},"grid-item-".concat(o)),p.current.set(o,q)}d.push(q)}}return d}(i);(j=c).push.apply(j,(0,d.Z)(k))}p.current.flip()}D(c)},[I,D,b,g,v,]),K=(0,f.useRef)(J);(0,f.useEffect)(function(){K.current=J},[J]);var L=(0,f.useState)(null),M=L[0],N=L[1];(0,f.useEffect)(function(){window.addEventListener("scroll",J,!0);var a=function(){p.current.reset(),K.current()},b=M;return!b&&window.ResizeObserver&&(b=new ResizeObserver(a),N(b)),(null==o?void 0:o.current)&&b&&b.observe(o.current),function(){window.removeEventListener("scroll",J,!0),M&&M.disconnect()}},[M,o,J]),(0,f.useEffect)(function(){o.current&&!F&&(J(),G(!0))},[o,F,J]),(0,f.useEffect)(function(){F&&(p.current.reset(),J())},[c]);var O={height:z?"".concat(z.rows*z.intervalY+n.top+n.bottom,"px"):void 0===l?"100vh":l},P={top:"".concat(n.top,"px"),left:"".concat(n.left,"px"),bottom:"".concat(n.bottom,"px"),right:"".concat(n.right,"px")},Q=(0,f.useState)({containerType:w.C.Grid}),R=Q[0];return(0,e.jsx)(w.Z.Provider,{value:R,children:(0,e.jsx)(r,{style:O,children:(0,e.jsx)(s,{style:P,ref:o,children:C})})})}},49188:function(a,b,c){c.d(b,{"$M":function(){return o},AK:function(){return n},Bm:function(){return p},R0:function(){return j},VS:function(){return h},WF:function(){return i},Wv:function(){return q},f5:function(){return r},ln:function(){return k},n:function(){return m},oF:function(){return l}});var d=c(26042),e=c(69396),f=c(10071),g=c(23397),h="LegoHouse Driver",i="v1",j="4.0.0",k={"X-FACETS-FEATURE-NO-TILE":!0,"X-FACETS-FEATURE-LOGO-MERCHANDISING":!0,"X-FACETS-FEATURE-ITEM-CAROUSEL":!0,"X-FACETS-FEATURE-ROW-CARD-CONTAINER":!0,"X-FACETS-FEATURE-GRID-STANDARD":!0,"X-FACETS-FEATURE-TALL-LOGO-CAROUSEL":!0,"X-FACETS-FEATURE-ITEM-STEPPERS":!0,"X-FACETS-FEATURE-BACKEND-DRIVEN-BADGES":!0,"X-FACETS-FEATURE-STORE-CELL-REDESIGN-ROUND-3":"treatmentVariant3","X-FACETS-FEATURE-STORE-CAROUSEL-REDESIGN-ROUND-1":"treatmentVariant2"},l="-1",m=624,n=1280,o=(0,e.Z)((0,d.Z)({},f.Breakpoints),{Phablet:m}),p="cuisine",q="filterQuery-",r=[g.Dw.HOME_PAGE,g.Dw.VERTICAL_PAGE,g.Dw.SEARCH_PAGE,g.Dw.OFFERS_VERTICAL_PAGE,g.Dw.RETAIL_VERTICAL_TAB_PAGE,]},16137:function(a,b,c){c.d(b,{t:function(){return m},I:function(){return n}});var d,e,f=c(10253),g=c(85893),h=c(67294),i=c(88311),j=c(31580);(e=d||(d={})).DOWN="DOWN",e.UP="UP",e.UNSET="UNSET";var k=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=(0,h.useState)(0),c=b[0],e=b[1],f=(0,h.useState)(d.UNSET),g=f[0],i=f[1],k=(0,j.U)().isControlledScrolling,l=(0,h.useCallback)(function(){var b=window.scrollY,f=b>c?d.DOWN:d.UP;a&&k||f===g||10>Math.abs(b-c)||i(f),e(b)},[c,g,k,a]);return(0,h.useEffect)(function(){return window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}},[l]),g},l=h.createContext({mobileHeaderOffsetOnScroll:0,mobileHideOnScrollDownCallbackRef:function(){},mobileHideOnScrollUpCallbackRef:function(){}}),m=function(a){var b=a.children,c=(0,f.Z)(h.useState(0),2),e=c[0],j=c[1],m=(0,f.Z)(h.useState(0),2),n=m[0],o=m[1],p=(0,f.Z)(h.useState(0),2),q=p[0],r=p[1],s=h.useCallback(function(a){null!==a&&o(a.getBoundingClientRect().height)},[]),t=h.useCallback(function(a){null!==a&&r(a.getBoundingClientRect().height)},[]),u=k(!0),v=(0,i.ac)().isMobile;h.useEffect(function(){v&&(u===d.DOWN?j(n):j(q))},[v,u,n,q,]);var w=h.useMemo(function(){return{mobileHeaderOffsetOnScroll:e,mobileHideOnScrollDownCallbackRef:s,mobileHideOnScrollUpCallbackRef:t}},[e,s,t,]);return(0,g.jsx)(l.Provider,{value:w,children:b})},n=function(){return h.useContext(l)}},21851:function(a,b,c){c.r(b);var d=c(26042),e=c(85893),f=c(5152),g=c.n(f);c(67294);var h=c(93395),i=c(17163),j=c(15081),k=c(46350),l=c(48825),m=c(62609),n=c(65419),o=c(2735),p=c(37298),q=c(16137),r=c(31580),s=g()(function(){return Promise.all([c.e(77504),c.e(47982),c.e(10478)]).then(c.bind(c,77504))},(0,d.Z)({loadableGenerated:{webpack:function(){return[77504]}}},{ssr:!1})),t=function(a){var b=a.bundling,c=a.isGroupCartMode,d=a.isToggledToPickup,f=a.orderCart,g=a.storeDisclaimers,t=a.storeId,u=a.deepLinkItemId,v=a.storeInfo,w=a.storeMenu,x=a.storeMenuItemLists,y=a.storeName,z=a.innerRef,A=(0,h.useConsumerQuery)().consumer,B=(0,l.Z)(x,w,t),C=B.displayFallbackView,D=B.menu,E=B.menuItemLists,F=B.numResults,G=B.onSearch,H=B.query,I=i.mB(v),J=!c,K=(0,k.d)({consumer:A,orderCart:f,storeInfo:v,isViewingPickup:Boolean(d)});return(0,e.jsxs)("div",{ref:z,children:[(0,e.jsx)(r.A,{children:(0,e.jsx)(q.t,{children:(0,e.jsx)(s,{bundling:b,menu:D,isGroupCartMode:c,itemSearchQuery:H,numResults:F,onSearch:G,storeId:t,storeInfo:v,storeMenu:w,storeName:y,shouldRenderBundleItems:J})})}),C&&(0,e.jsx)(m.Z,{onQueryChange:G}),(0,e.jsx)(n.Z,{numResults:F,query:H}),(0,e.jsx)(p.Z,{itemSearchQuery:H,storeId:t,deepLinkItemId:u,storeName:y,menuLists:E,isViewingPickup:Boolean(d),storeInfo:v,menuId:j.cG(w),itemSelectionRequiresAddress:K,orderCart:f,shouldRenderBundleItems:J}),!C&&(0,e.jsx)(o.Z,{storeInfo:v,storeDisclaimers:g,showPriceMayDifferMessage:I,isViewingPickup:Boolean(d)})]})};b.default=t},87377:function(a,b,c){c.d(b,{Z:function(){return m}});var d=c(85893),e=c(10071);c(67294);var f=c(81865),g=c(7297),h=c(87379);function i(){var a=(0,g.Z)(["\n  text-align: center;\n  margin: ","px ","px;\n  color: ",";\n\n  a {\n    text-decoration: none;\n    color: ",";\n  }\n"]);return i=function(){return a},a}var j=(0,h.default)(e.StackChildren).withConfig({componentId:"sc-cbe038a3-0"})(i(),e.Spacing.Large,e.Spacing.Medium,e.Colors.TextTertiary,e.Colors.TextLink),k=c(23685),l=c(20688),m=function(a){var b=a.disclaimers,c=a.showPriceMayDifferMessage;return(0,d.jsxs)(j,{children:[b.map(function(a){var b;return(0,d.jsx)(e.Text,{size:e.Text.Sizes.S12,weight:e.Text.Weights.Bold,color:e.Colors.TextTertiary,children:(0,d.jsx)(f.D,{children:(b=a).text||""})},a.id)}),c&&(0,d.jsx)(e.Text,{size:e.Text.Sizes.S12,weight:e.Text.Weights.Bold,color:e.Colors.TextTertiary,"data-anchor-id":l.J.PriceMayDiffer,children:(0,d.jsx)(f.D,{children:k.ZP.t("menu_priceMayDifferDisclaimer")})})]})}},2735:function(a,b,c){c.d(b,{Z:function(){return g}});var d=c(85893);c(67294);var e=c(87377),f=c(39690);function g(a){var b=a.storeInfo,c=a.storeDisclaimers,g=a.showPriceMayDifferMessage,h=a.isViewingPickup;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.Z,{disclaimers:c,showPriceMayDifferMessage:void 0===g||g}),(0,d.jsx)(f.Z,{storeInfo:b,isViewingPickup:h})]})}},50538:function(a,b,c){c.d(b,{s:function(){return d}});var d=function(a,b,c){var d,e,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],g=!!(null==a?void 0:null===(d=a.defaultAddress)||void 0===d?void 0:d.printableAddress),h=!!(null==b?void 0:b.groupCart)&&(null==b?void 0:null===(e=b.creator)||void 0===e?void 0:e.id)!==a.id;return!(c||g||h||f)}},46350:function(a,b,c){c.d(b,{d:function(){return f}});var d=c(57010),e=c(50538),f=function(a){var b=a.consumer,c=a.orderCart,f=a.storeInfo,g=a.isViewingPickup,h=(0,d.Z)(f);return(0,e.s)(b,c,g,h)}},62609:function(a,b,c){var d=c(85893),e=c(24906);c(67294);var f=c(23685),g=c(20132),h=c(65554),i=function(a){var b=a.onQueryChange;return(0,d.jsxs)(h.C,{children:[(0,d.jsx)(g.Z,{secondaryText:f.ZP.t("menu_search_no_results")}),(0,d.jsx)(e.default,{onClick:function(){return b("")},size:e.default.Sizes.Medium,children:f.ZP.t("menu_reset_search")})]})};b.Z=i},65419:function(a,b,c){var d=c(7297),e=c(85893);c(67294);var f=c(87379),g=c(10071),h=c(23685);function i(){var a=(0,d.Z)(["\n  margin-bottom: ","px;\n  margin-top: ","px;\n"]);return i=function(){return a},a}var j=(0,f.default)(g.Text).withConfig({componentId:"sc-def44a28-0"})(i(),g.Spacing.XxLarge,g.Spacing.XLarge),k=function(a){var b=a.numResults,c=a.query;return 0!==b&&c?(0,e.jsx)(j,{color:g.Text.Colors.TextPrimary,family:g.Text.Families.SansSerif,styles:g.Text.Styles.Medium16,children:h.ZP.t("menu_search_num_results",{numResults:b,query:c})}):null};b.Z=k},65554:function(a,b,c){c.d(b,{C:function(){return j},k:function(){return i}});var d=c(7297),e=c(10071),f=c(87379);function g(){var a=(0,d.Z)(["\n  margin-left: auto;\n  padding: ",";\n  width: ","px;\n\n  @media screen and (max-width: ","px) {\n    width: 100%;\n  }\n\n  @media screen and (max-width: ","px) {\n    ","\n  }\n\n  // clears the ‘X’ from Chrome\n  & input[type='search']::-webkit-search-decoration,\n  & input[type='search']::-webkit-search-cancel-button,\n  & input[type='search']::-webkit-search-results-button,\n  & input[type='search']::-webkit-search-results-decoration {\n    display: none;\n  }\n"]);return g=function(){return a},a}function h(){var a=(0,d.Z)(["\n  display: flex;\n  flex-flow: column nowrap;\n  margin: auto;\n  margin-bottom: ","px;\n  width: 55%;\n"]);return h=function(){return a},a}var i=f.default.div.withConfig({componentId:"sc-5ba415e0-0"})(g(),function(a){return a.isStorePageRedesign?"0px":"".concat(e.Spacing.Small,"px 0 ").concat(e.Spacing.XxSmall,"px")},340,e.Breakpoints.Tablet,e.Breakpoints.Desktop,function(a){return a.isReducedWidth&&"width: ".concat(240,"px")}),j=f.default.div.withConfig({componentId:"sc-5ba415e0-1"})(h(),e.Spacing.XxxLarge)},48825:function(a,b,c){c.d(b,{Z:function(){return t}});var d=c(10253),e=c(67294),f=c(3532),g=c(99534),h=c(74221),i=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.limit,f=void 0===c?100:c,i=b.query,j=(0,g.Z)(b,["limit","query"]),k=(0,d.Z)(e.useState(void 0===i?"":i),2),l=k[0],m=k[1],n=(0,d.Z)(e.useState([]),2),o=n[0],p=n[1],q=e.useMemo(function(){return new h.Z(a,j)},[a,j]),r=e.useCallback(function(a){m(a.trimStart())},[]),s=function(a){var b=q.search(a,{limit:f});p(b)};return{onQueryChange:r,onSearch:s,query:l,searchResults:o}},j=c(15081),k=c(26042),l=c(69396),m=c(89734),n=c.n(m),o=function(a){return(a||"").replace("category-","")},p=function(a){var b=Object.values(a);return n()(b,["index"])},q=function(a,b){var c=a.menuCategories.filter(function(a){return b.hasOwnProperty(a.id||"")}).map(function(a){return(0,l.Z)((0,k.Z)({},a),{numItems:b[a.id||""].numItems})});return(0,l.Z)((0,k.Z)({},a),{menuCategories:c})},r=function(a,b,c){if(!c)return a;var d=q(a,b);return 0===d.menuCategories.length?a:d},s={includeMatches:!0,includeScore:!0,minMatchCharLength:1,shouldSort:!0,threshold:.3,keys:[{name:"name",weight:.85},{name:"description",weight:.15},]},t=function(a,b,c){var g,h,m,n,q,t=j.cG(b),u=e.useMemo(function(){var b,c;return{allMenuItems:(b=a).reduce(function(a,b){var c=b.id,d=b.items.map(function(a){return(0,l.Z)((0,k.Z)({},a),{categoryId:c})});return a.concat(d)},[]),categoriesById:(c=a).reduce(function(a,b,c){return a[o(b.id)]=(0,l.Z)((0,k.Z)({},b),{index:c,items:[],numItems:0}),a},{})}},[a]),v=u.allMenuItems,w=u.categoriesById,x=i(v,s),y=(0,d.Z)(e.useState(""),2),z=y[0],A=y[1],B=(g=x.searchResults,h=w,g.reduce(function(a,b){var c=o(b.item.categoryId);return a[c]?(a[c].items.push(b.item),a[c].numItems+=1):a[c]=(0,l.Z)((0,k.Z)({},h[c]),{items:[b.item],numItems:1}),a},{})),C=(m=a,n=B,(q=z)?p(n):m),D=r(b,B,z),E=function(a){x.onSearch(a),A(a),(0,f.ZP)("store_search_event",{menu_id:t,search_term:a,store_id:c})},F=!!z&&0===C.length;return{displayFallbackView:F,menu:D,menuItemLists:C,numResults:x.searchResults.length,onSearch:E,query:z}}}}])