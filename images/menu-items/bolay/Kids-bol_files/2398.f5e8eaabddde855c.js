"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2398],{56761:function(a,b,c){var d=c(10253),e=c(85893),f=c(24906),g=c(10071),h=c(67294),i=c(14724),j=c(37968),k=c(26012),l=c(33795),m=c(23685),n=c(53093),o=function(a){var b=a.isSaved,c=a.storeId,o=a.isCompact,p=a.isFirst,q=a.isRaised,r=void 0!==q&&q,s=(0,d.Z)(h.useState(b),2),t=s[0],u=s[1],v=!!(0,i.Z)(t),w=(0,l.Q)({}),x=w.onCompleted,y=w.onError,z=(0,j.m)({storeId:c,onCompleted:x,onError:function(a){y(a),u(!!v)}}),A=(0,l.w)(),B=A.onCompleted,C=A.onError,D=(0,k.G)({storeId:c,onCompleted:B,onError:function(a){C(a),u(!!v)}}),E=h.useCallback(function(){t?(u(!1),D()):(u(!0),z())},[t,z,D]),F=t?m.ZP.t("stores_header_savedStore"):m.ZP.t("stores_header_saveStore");return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.WV,{children:(0,e.jsx)(f.default,{isInline:!0,type:r?f.default.Types.Plain:f.default.Types.TertiaryPill,size:f.default.Sizes.Small,onClick:E,isRaised:r,children:(0,e.jsxs)(g.InlineChildren,{size:g.InlineChildren.Sizes.XSmall,alignItems:g.InlineChildren.Alignment.Center,justifyContent:g.InlineChildren.Justification.Center,children:[(0,e.jsx)(n.Q_,{children:(0,e.jsx)(g.Icon,{color:t?g.Icon.Colors.SystemRed60:g.Icon.Colors.TextPrimary,type:t?g.Icon.Types.FavoriteFill:g.Icon.Types.FavoriteLine,size:g.Icon.Sizes.Small})}),!o&&(0,e.jsx)("span",{children:F})]})})}),(0,e.jsx)(n.j6,{"aria-label":t?m.ZP.t("stores_header_savedStore"):m.ZP.t("stores_header_saveStore"),onClick:E,isFirst:void 0===p||p,children:(0,e.jsx)(n.Q_,{children:(0,e.jsx)(g.Icon,{color:t?g.Icon.Colors.SystemRed60:g.Icon.Colors.TextPrimary,size:g.Icon.Sizes.Small,type:t?g.Icon.Types.FavoriteFill:g.Icon.Types.FavoriteLine})})})]})};b.Z=o},10528:function(a,b,c){c.d(b,{Z:function(){return ao},W:function(){return an}});var d=c(85893),e=c(33078),f=c(10071),g=c(67294),h=c(56761),i=c(3014),j=c(67868),k=c(10253),l=c(5152),m=c.n(l),n=c(24906),o=c(84450),p=c(1968),q=c(7297),r=c(87379);function s(){var a=(0,q.Z)(["\n  min-width: ",";\n  max-width: ",";\n  padding-bottom: ",";\n  height: 0;\n  border-radius: ","px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  background-color: ",";\n\n  @media screen and (max-width: ","px) {\n    min-width: ",";\n    max-width: ",";\n    padding-bottom: ",";\n  }\n\n  @media screen and (max-width: ","px) {\n    min-width: ",";\n    max-width: ",";\n    padding-bottom: ",";\n  }\n}"]);return s=function(){return a},a}function t(){var a=(0,q.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: ","px;\n  margin-top: ","px;\n"]);return t=function(){return a},a}function u(){var a=(0,q.Z)(["\n  min-width: ",";\n  max-width: ",";\n  padding-bottom: ",";\n  height: 0;\n  border-radius: ","px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  background-color: ",";\n\n  @media screen and (max-width: ","px) {\n    min-width: ",";\n    max-width: ",";\n    padding-bottom: ",";\n  }\n\n  @media screen and (max-width: ","px) {\n    min-width: ",";\n    max-width: ",";\n    padding-bottom: ",";\n  }\n"]);return u=function(){return a},a}function v(){var a=(0,q.Z)(["\n  position: absolute;\n  bottom: ","px;\n  left: ","px;\n  margin-right: ","px;\n"]);return v=function(){return a},a}function w(){var a=(0,q.Z)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-image: linear-gradient(\n    0deg,\n    rgba(0, 0, 0, 0.85) 0%,\n    rgba(0, 0, 0, 0) 28%\n  );\n  bottom: 0;\n  right: 0;\n"]);return w=function(){return a},a}function x(){var a=(0,q.Z)(["\n  display: flex;\n  gap: ","px;\n  margin-top: ","px;\n\n  @media screen and (max-width: ","px) {\n    flex-wrap: wrap;\n  }\n"]);return x=function(){return a},a}function y(){var a=(0,q.Z)(["\n  width: 50%;\n  img {\n    border-radius: ","px;\n  }\n  @media screen and (max-width: ","px) {\n    width: 100%;\n  }\n"]);return y=function(){return a},a}function z(){var a=(0,q.Z)(["\n  width: 50%;\n  img {\n    border-radius: ","px;\n  }\n  @media screen and (max-width: ","px) {\n    width: 100%;\n  }\n"]);return z=function(){return a},a}function A(){var a=(0,q.Z)(["\n  min-width: 100%;\n"]);return A=function(){return a},a}function B(){var a=(0,q.Z)(["\n  width: auto;\n"]);return B=function(){return a},a}function C(){var a=(0,q.Z)(["\n  width: ","px;\n  img {\n    border-radius: ","px;\n  }\n"]);return C=function(){return a},a}function D(){var a=(0,q.Z)(["\n  margin-left: ","px;\n  padding-top: ","px;\n  button {\n    padding: ","px !important;\n    margin-left: -","px;\n  }\n"]);return D=function(){return a},a}var E=function(a){return"calc(".concat(100/a,"% - ").concat(f.Spacing.XxSmall*(a-1)/a,"px)")},F=function(a){return"calc(2 * ".concat(a," + ").concat(f.Spacing.XxSmall,"px)")},G=E(4),H=F(G),I=E(2),J=F(I),K=r.default.div.withConfig({componentId:"sc-f1833d1e-0"})(s(),H,H,G,f.BorderRadius.Small,f.Colors.BackgroundSecondary,f.Breakpoints.Tablet,J,J,I,f.Breakpoints.Tablet,J,J,I),L=r.default.div.withConfig({componentId:"sc-f1833d1e-1"})(t(),f.Spacing.XxSmall,f.Spacing.Medium),M=r.default.div.withConfig({componentId:"sc-f1833d1e-2"})(u(),G,G,G,f.BorderRadius.Small,f.Colors.BackgroundSecondary,f.Breakpoints.Tablet,I,I,I,f.Breakpoints.Tablet,I,I,I),N=(0,r.default)(f.Text).withConfig({componentId:"sc-f1833d1e-3"})(v(),f.Spacing.XxSmall,f.Spacing.XSmall,f.Spacing.XSmall),O=r.default.div.withConfig({componentId:"sc-f1833d1e-4"})(w()),P=r.default.div.withConfig({componentId:"sc-f1833d1e-5"})(x(),f.Spacing.Small,f.Spacing.Small,f.Breakpoints.Tablet),Q=r.default.div.withConfig({componentId:"sc-f1833d1e-6"})(y(),f.BorderRadius.Small,f.Breakpoints.Tablet),R=(0,r.default)(f.StackChildren).withConfig({componentId:"sc-f1833d1e-7"})(z(),f.BorderRadius.Small,f.Breakpoints.Tablet);r.default.div.withConfig({componentId:"sc-f1833d1e-8"})(A()),r.default.div.withConfig({componentId:"sc-f1833d1e-9"})(B()),r.default.div.withConfig({componentId:"sc-f1833d1e-10"})(C(),64,f.BorderRadius.Medium);var S=r.default.div.withConfig({componentId:"sc-f1833d1e-11"})(D(),f.Spacing.Medium,f.Spacing.Medium,f.Spacing.XSmall,f.Spacing.XSmall),T=c(11766);function U(a){var b=a.ugcDisplayImages,c=a.onPhotoClick,e=function(a,b){var c;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(T.Z,{url:null!==(c=null==a?void 0:a.photoUrl)&&void 0!==c?c:"",cssAllMediaWidth:"".concat(b?H:G),aspectRatio:b?"2:1":"1:1"}),(0,d.jsx)(O,{}),(0,d.jsxs)(N,{children:[(null==a?void 0:a.title)&&(0,d.jsx)(f.Text,{styles:f.Text.Styles.Body2Emphasis,color:f.Text.Colors.TextPrimaryOnDark,children:null==a?void 0:a.title}),(null==a?void 0:a.subtitle)&&(0,d.jsx)(f.Text,{styles:f.Text.Styles.Caption2,color:f.Text.Colors.TextPrimaryOnDark,children:null==a?void 0:a.subtitle})]})]})};return(0,d.jsx)(L,{children:b.map(function(a,b){return a&&(0==b?(0,d.jsx)(K,{"data-testid":"header-ugc-image",onClick:function(){return c(0)},children:e(a,!0)},b):(0,d.jsx)(M,{"data-testid":"grid-ugc-image",onClick:function(){return c(b)},children:e(a,!1)},b))})})}var V=c(88564),W=c(27441),X=c(48492),Y=c(31212),Z=c(88311),$=c(80216);function _(a){var b,c,e,g,h,i=a.ugcDisplayImages,j=a.setCurrExpandedPhotoIndex,k=a.currExpandedPhotoIndex,l=a.changeItemModal,m=(0,Z.ac)().isMobile,n=(0,$.bU)(),o=i[k],p=null!==(e=null==o?void 0:o.submissionTimeDisplayString)&&void 0!==e?e:(0,Y.Lf)(null!==(c=null==o?void 0:o.createdAt)&&void 0!==c?c:"",n);return(0,d.jsxs)(P,{children:[m&&(0,d.jsx)(W.Z,{submissionTimeText:p,reviewerData:null!==(g=null==o?void 0:o.reviewerData)&&void 0!==g?g:null}),(0,d.jsx)(Q,{children:(0,d.jsx)(V.Z,{ugcImages:i,currExpandedPhotoIndex:k,setCurrExpandedPhotoIndex:j,isLargeModal:!m})}),(0,d.jsxs)(R,{children:[!m&&(0,d.jsx)(W.Z,{submissionTimeText:p,reviewerData:null!==(h=null==o?void 0:o.reviewerData)&&void 0!==h?h:null}),(0,d.jsx)(f.StackChildren,{size:f.StackChildren.Sizes.None,children:null==o?void 0:null===(b=o.photoTaggedItems)||void 0===b?void 0:b.map(function(a){return a&&(0,d.jsx)(X.Z,{item:a,viewItem:l},a.itemIdStr)})})]})]})}var aa=c(96378),ab=c(94533),ac=c(11459),ad=c(63998),ae=c(25124),af=c(11890),ag=c(23685);function ah(a){var b,c,e,h,i,j,l=a.onClose,m=a.title,o=a.changeItemModal,q=a.storeId,r=(0,aa.Z)(!0,q,ac.PB.PHOTO_DISPLAY_TYPE_GALLERY),s=r.data,t=r.loading,u=null==s?void 0:null===(b=s.getUGCDisplayPhotos)||void 0===b?void 0:null===(c=b.photoResponseStatus)||void 0===c?void 0:c.success,v=null==s?void 0:null===(e=s.getUGCDisplayPhotos)||void 0===e?void 0:e.mxPhotoDetails,w=null==s?void 0:null===(h=s.getUGCDisplayPhotos)||void 0===h?void 0:h.ugcPhotoDetails,x=null!==(j=null===(i=null==v?void 0:v.concat(null!=w?w:[]))||void 0===i?void 0:i.filter(ab.K))&&void 0!==j?j:[],y=(0,k.Z)(g.useState(!1),2),z=y[0],A=y[1],B=(0,k.Z)(g.useState(0),2),C=B[0],D=B[1],E=function(a){A(!0),D(a)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(p.Modal,{title:m,renderContentHeader:function(){return(0,d.jsxs)(S,{children:[z?(0,d.jsx)(n.IconButton,{accessibilityLabel:"Close store images",iconType:f.Icon.Types.ArrowLeft,size:n.IconButton.Sizes.Medium,onClick:function(){A(!1)}}):(0,d.jsx)(n.IconButton,{accessibilityLabel:"Close store images",iconType:f.Icon.Types.Close,size:n.IconButton.Sizes.Medium,onClick:l}),(0,d.jsx)(f.Text,{styles:f.Text.Styles.PageTitle2,children:z&&null!==C?ag.ZP.t("ratingsStrings_num_of_num_photos",{num:C+1,totalNum:x.length}):m})]})},hasCloseButton:!1,size:p.Modal.Sizes.XxLarge,onClose:l,shouldRenderStickyHeader:!1,hasContentPadding:!0,hasHeaderPadding:!0,shouldCloseOnEscapePress:!0,primaryAction:{text:ag.ZP.t("stores_close"),onClick:function(){return l()}},children:t?(0,d.jsx)(ae.zw,{children:(0,d.jsx)(af.default,{})}):u&&x?z&&null!=C?(0,d.jsx)(_,{ugcDisplayImages:x,setCurrExpandedPhotoIndex:D,currExpandedPhotoIndex:null!=C?C:0,changeItemModal:o}):(0,d.jsx)(U,{onPhotoClick:E,ugcDisplayImages:x}):(0,d.jsx)(f.Inset,{size:f.Inset.Sizes.Small,children:(0,d.jsx)(ad.ErrorMessage,{error:ag.ZP.t("profilePageStrings_errorText_somethingWentWrong")})})})})}var ai=c(89251),aj=c(89261),ak=c(74895),al=m()(function(){return Promise.all([c.e(97073),c.e(48764),c.e(48837),c.e(90975),c.e(81865),c.e(17398),c.e(32558),c.e(43948),c.e(88241),c.e(67618),c.e(5354),c.e(48172),c.e(87188),c.e(97251),c.e(98881),c.e(27811),c.e(37443),c.e(4835),c.e(52892),c.e(32271),c.e(85220)]).then(c.bind(c,69241))},{loadableGenerated:{webpack:function(){return[69241]}},ssr:!1});function am(a){var b=a.storeName,c=a.logoImage,h=a.photoCountDisplayText,i=a.ugcImages,j=a.storeRedesignEnabled,l=a.originalHeroImage,m=a.storeId,p=(0,k.Z)(g.useState(!1),2),q=p[0],r=p[1],s=(0,k.Z)(g.useState(null),2),t=s[0],u=s[1],v=function(a){r(!1),u(a)},w=function(){r(!1)},x=i.filter(function(a){return null!=a.url}),y=0==x.length;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.fb,{reducedHeight:j,onClick:function(){return!y&&r(!0)},borderRadius:j?an:void 0,isClickable:!y,children:[(0,d.jsx)(o.Us,{"data-testid":"HeroPrimaryImage",src:l,alt:null!=b?b:"",height:j?o.zH:o.Sg,loading:"eager",fetchpriority:"high"}),(0,d.jsx)(o.Xd,{children:null!=h&&x.length>0&&(0,d.jsx)(n.default,{isInline:!0,type:n.default.Types.Plain,size:n.default.Sizes.Small,onClick:function(){return r(!0)},padding:n.default.Padding.Default,leadingIcon:f.Icon.Types.PhotosLine,children:(0,d.jsx)(f.Text,{styles:f.Text.Styles.ButtonSmallTitle,children:h})})})]}),c&&(0,d.jsxs)(g.Fragment,{children:[(0,d.jsx)(o.CJ,{}),(0,d.jsx)(o.xg,{children:(0,d.jsx)(o.G0,{children:(0,d.jsx)(e.Z,{baseURL:c,loading:"eager",quality:95,fixedWidths:{Mobile:o.eT,Tablet:o.eT,Desktop:o.eT,WideScreen:o.eT},height:o.eT,alt:null!=b?b:"",objectFit:"contain"})})})]}),q&&(0,d.jsx)(ah,{title:null!=h?h:"",onClose:function(){return w()},changeItemModal:v,storeId:m}),null!=t&&(0,d.jsx)(al,{storeId:m,itemId:t,setItemId:function(a){return(0,ai.qD)(a,u,aj.ZP,ak.$.MENU_ITEM_MODAL,{storeId:m})},menuId:"",storeName:null!=b?b:"",isViewingPickup:!1,shouldUseCacheFirst:!1,showModal:null!=t,closeModal:function(){return u(null)}})]})}var an="0 0 ".concat(f.BorderRadius.Large,"px ").concat(f.BorderRadius.Large,"px");function ao(a){var b=a.storeImage,c=a.storeName,k=a.logoImage,l=a.storeId,m=a.isStoreSaved,n=a.additionalHeaderImages,p=a.photoCount,q=(0,j.Z)(),r=q.enableStickyAddressBanner,s=q.isStoreGridUgcEnabled,t=q.storePageRedesign,u=t.isM05Enabled,v=t.m1,w=v.isEnabled,x=u||w,y=(0,i.M)().enableSaveForLater;return b?(0,d.jsx)(o.S5,{marginTop:r?f.Spacing.Small:x||w?0:void 0,reducedHeight:x,"data-testid":"HeroImageContainer",children:s?(0,d.jsx)(am,{storeName:c,logoImage:k,photoCountDisplayText:null!=p?p:null,ugcImages:null!=n?n:[],storeRedesignEnabled:x,originalHeroImage:b,storeId:l}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.fb,{reducedHeight:x,borderRadius:x?an:void 0,children:(0,d.jsx)(o.Us,{"data-testid":"HeroPrimaryImage",loading:"eager",fetchpriority:"high",src:b,alt:null!=c?c:"",height:x?o.zH:o.Sg})}),k&&(0,d.jsxs)(g.Fragment,{children:[(0,d.jsx)(o.CJ,{}),(0,d.jsx)(o.xg,{children:(0,d.jsx)(o.G0,{children:(0,d.jsx)(e.Z,{baseURL:k,loading:"eager",quality:95,fixedWidths:{Mobile:o.eT,Tablet:o.eT,Desktop:o.eT,WideScreen:o.eT},height:o.eT,alt:null!=c?c:"",objectFit:"contain"})})})]}),x&&y&&l&&(0,d.jsx)(o.d4,{children:(0,d.jsx)(h.Z,{isSaved:!!m,storeId:l,isCompact:!1,isFirst:!0,isRaised:!0})})]})}):null}},50483:function(a,b,c){c.d(b,{Q:function(){return e}});var d=c(81353),e=function(a,b){var c,e=a.storeHeader,f=e.name,g=e.coverSquareImgUrl,h=null!==(c=(0,d.wF)(e.businessHeaderImgUrl,b))&&void 0!==c?c:"";return{logoImage:g,storeName:f,storeImage:h}}},78503:function(a,b,c){c.d(b,{t:function(){return d}});var d=function(a,b){return a.split(",").slice(0,b).join(",")}},44188:function(a,b,c){c.d(b,{Z:function(){return e}});var d=c(17163),e=function(a){var b,c=(b=a,d.DX(b)),e=d.kL(a),f=d.q1(a),g=d.zD(a);return{showAsNewlyAdded:c,averageRating:e,numRatingsDisplayString:f,offersPackageReturns:g}}},64707:function(a,b,c){c.d(b,{Ex:function(){return o},JT:function(){return n},Kr:function(){return d},lK:function(){return p}});var d,e,f,g,h,i=c(14924),j=c(10071),k=c(41001),l=c(68584),m=c(10220);(h=d||(d={})).REORDER_CAROUSEL="reorder_carousel",h.ITEM_OFFERS_CAROUSEL="campaign_item_carousel",h.POPULAR_DRINKS_CAROUSEL="popular_drinks_carousel",h.FEATURED_ITEMS_CAROUSEL="featured_items",h.RECOMMENDED_ITEMS_FOR_YOU="recommended_items_for_you",h.MOST_LIKED_ITEMS_CAROUSEL="most_liked_items",h.VEGETARIAN_ITEMS_CAROUSEL="vegetarian_items";var n=function(a){switch(a){case d.ITEM_OFFERS_CAROUSEL:return{name:"Offer",trackingName:"promoted_items"};case d.REORDER_CAROUSEL:return{name:"Reorder",trackingName:"reorder-items"};case d.POPULAR_DRINKS_CAROUSEL:return{name:"PopularDrinks",trackingName:"popular-drinks"};case d.FEATURED_ITEMS_CAROUSEL:return{name:"FeaturedItems",trackingName:"featured-items"};case d.MOST_LIKED_ITEMS_CAROUSEL:return{name:"MostLikedItems",trackingName:"most-liked"};case d.RECOMMENDED_ITEMS_FOR_YOU:return{name:"RecommendedItemsForYou",trackingName:"recommended-items-for-you"};default:return{name:a,trackingName:a}}},o=function(a,b){switch(a){case d.FEATURED_ITEMS_CAROUSEL:case d.RECOMMENDED_ITEMS_FOR_YOU:return v;case d.ITEM_OFFERS_CAROUSEL:case d.REORDER_CAROUSEL:case d.POPULAR_DRINKS_CAROUSEL:case d.VEGETARIAN_ITEMS_CAROUSEL:return q;case d.MOST_LIKED_ITEMS_CAROUSEL:return r(b);default:throw Error("Unrecognized carousel")}},p=function(a){switch(a){case d.FEATURED_ITEMS_CAROUSEL:case d.RECOMMENDED_ITEMS_FOR_YOU:return s;case d.ITEM_OFFERS_CAROUSEL:case d.REORDER_CAROUSEL:case d.POPULAR_DRINKS_CAROUSEL:case d.VEGETARIAN_ITEMS_CAROUSEL:return t;case d.MOST_LIKED_ITEMS_CAROUSEL:return u;default:throw Error("Unrecognized carousel")}},q=(e={},(0,i.Z)(e,k.zP.mobile,{width:"85%",height:152}),(0,i.Z)(e,k.zP.phablet,{width:"85%",height:152}),(0,i.Z)(e,k.zP.tablet,{width:"85%",height:152}),(0,i.Z)(e,k.zP.desktop,{width:l.lV,height:152}),(0,i.Z)(e,k.zP.widescreen,{width:l.lV,height:152}),e),r=function(a){var b;return b={},(0,i.Z)(b,k.zP.mobile,{width:300,height:a?352:152}),(0,i.Z)(b,k.zP.phablet,{width:362,height:a?352:152}),(0,i.Z)(b,k.zP.tablet,{width:362,height:a?352:152}),(0,i.Z)(b,k.zP.desktop,{width:372,height:a?352:152}),(0,i.Z)(b,k.zP.widescreen,{width:372,height:a?352:152}),b},s=(0,m.El)(0),t=(0,m.El)(j.Spacing.XSmall),u=(f={},(0,i.Z)(f,k.zP.mobile,j.Spacing.Large),(0,i.Z)(f,k.zP.phablet,j.Spacing.Large),(0,i.Z)(f,k.zP.tablet,j.Spacing.Medium),(0,i.Z)(f,k.zP.desktop,j.Spacing.Medium),(0,i.Z)(f,k.zP.widescreen,j.Spacing.Medium),f),v=(g={},(0,i.Z)(g,k.zP.mobile,{width:l.e0,height:234}),(0,i.Z)(g,k.zP.phablet,{width:l.e0,height:234}),(0,i.Z)(g,k.zP.tablet,{width:l.e0,height:234}),(0,i.Z)(g,k.zP.desktop,{width:l.e0,height:234}),(0,i.Z)(g,k.zP.widescreen,{width:l.e0,height:234}),g)},59206:function(a,b,c){c.d(b,{S:function(){return ai},Z:function(){return aj}});var d=c(10253),e=c(85893),f=c(5152),g=c.n(f),h=c(67294),i=c(92774),j=c(87728),k=c(4082),l=c(89261),m=c(74895),n=c(89251),o=c(67868),p=c(15081),q=c(17163),r=c(39490),s=c(26042),t=c(69396),u=c(68584),v=c(10071),w=c(99534),x=c(3532);c(89718);var y=c(64707),z=function(a){var b=a.storeId,c=a.menuId,d=a.numItems,e=a.position;(0,x.ZP)("popular_drinks_carousel_load",{store_id:b,menu_id:c,num_items:d,position:e})},A=function(a){var b=a.storeId,c=a.itemId;(0,x.ZP)("popular_drinks_carousel_engage",{store_id:b,item_id:c,engagement_type:"stepper"})},B=function(a){var b=a.storeId,c=a.itemId;(0,x.ZP)("popular_drinks_carousel_engage",{store_id:b,item_id:c,engagement_type:"click"})},C=function(a){var b=a.storeId,c=a.menuId,d=a.itemId,e=a.carouselId,f=a.dietaryTags;(0,x.ZP)("menu_item_impression",{store_id:b,menu_id:c,item_id:d,menu_category:(0,y.JT)(e).trackingName,dietary_tag:f})},D=function(a){var b=a.storeId,c=a.menuId,d=a.itemId,e=a.carouselId,f=a.carouselName,g=a.cardIndex,h=a.isLoggedOutStorePage;(0,x.ZP)("store_page_click_item",{store_id:b,menu_id:c,item_id:d,menu_category:(0,y.JT)(e).trackingName,container_id:(0,y.JT)(e).trackingName,category_name:f,card_position:g,use_case:h?"store_page_logged_out":null}),e===y.Kr.POPULAR_DRINKS_CAROUSEL&&B({storeId:b,itemId:d})},E=function(a){var b=a.orderCartId,c=a.storeId,d=a.menuId,e=a.itemId,f=a.itemName,g=a.isGuest,h=a.carouselId,i=a.carouselName,j=a.dietaryTags;(0,x.ZP)("action_quick_add_item",{order_cart_id:b,store_id:c,menu_id:d,item_id:e,item_name:f,container_name:(0,y.JT)(h).trackingName,container_id:(0,y.JT)(h).trackingName,category_name:i,is_guest:g,dietary_tag:j}),h===y.Kr.POPULAR_DRINKS_CAROUSEL&&A({storeId:c,itemId:e})},F=function(a){var b=a.carousels,c=(0,w.Z)(a,["carousels"]),d=b.findIndex(function(a){return a.id===y.Kr.POPULAR_DRINKS_CAROUSEL});-1!==d&&z((0,s.Z)({position:d,numItems:b[d].items.length},c))},G=c(7928),H=c(36555),I=c(73667),J=c(32463),K=c(96789),L=c(34094),M=c(50745),N=c(34788),O=c(97826),P=c(29935),Q=c(68760),R=c(52918),S=c(23685),T=c(77118),U=c(55308),V=c(90328),W=c(54415),X=c(88343),Y=function(a){var b,c,d,f,g=a.orderCart,i=a.storeId,j=a.menuId,k=a.toastContainerId,l=a.carouselId,m=a.carouselName,n=a.carouselItem,o=a.isViewingPickup,p=h.useContext(N.Z).consumer,q=null==p?void 0:p.isGuest,s=(0,O.x_)(k).enqueueToast,t=(0,R.JU)(),u=(0,R._o)(g,i),w=null!==(c=u.fallbackContext)&&void 0!==c?c:"",x=(0,R.sX)(g,!!w).renderMultiCartToast,z=(0,R.fg)(g,i,null!==(d=t.businessId)&&void 0!==d?d:"",!!w).logSaveCart,A=h.useContext(X.b),B=A.setAddedItems,C=A.setIsAddItemPopoverVisible,D=(0,Q.I)(g,i,o),F=(0,U.i)().shouldShowMaxCartsReached,G=(0,V.ve)({currentOrderCartId:null!==(f=null==g?void 0:g.id)&&void 0!==f?f:"",currentCartStoreId:null==g?void 0:null===(b=g.restaurant)||void 0===b?void 0:b.id,itemStoreId:i}),H=(0,P._)({orderCart:g,orderCartId:G,storeId:i,menuId:j,fulfillmentContextInput:D,monitoringContext:{containerName:(0,y.JT)(l).name},afterAddItemSuccess:function(a){var b=a.itemImageUrl,c=a.variables;(0,r.g)({setAddedItems:B,setIsAddItemPopoverVisible:C,itemImageUrl:b,variables:c})}}),I=H.onClick,J=h.useCallback(function(a,b){var c,d;E({orderCartId:null!==(d=null==b?void 0:null===(c=b.addCartItemV2)||void 0===c?void 0:c.id)&&void 0!==d?d:"",itemId:n.id,storeId:i,menuId:j,itemName:n.name,isGuest:q,carouselId:l,carouselName:m,dietaryTags:(0,T.oD)(null==n?void 0:n.dietaryTagsList)}),null==x||x(),null==z||z(!0),s({isError:!1,text:1===a?S.ZP.t("reorderStrings_quickAdd_toast_singular"):S.ZP.t("reorderStrings_quickAdd_toast_plural",{numItems:a}),icon:v.Icon.Types.Check})},[i,j,q,l,m,n,x,z,s,]),K=h.useCallback(function(a){null==z||z(!1),null==F||F(a),s({isError:!0,text:(0,W.Z)({error:a,fallback:S.ZP.t("menu_addToCart_error")}),icon:v.Icon.Types.ErrorLine})},[z,F,s]),L=h.useCallback(function(a){I(a,{id:n.id,name:n.name,description:n.description,imageUrl:n.imageUrl,quickAddContext:n.quickAddContext},J,K)},[I,n,J,K,]);return(0,e.jsx)(M.D,{onClick:L})},Z=c(99171),$=function(a){var b,c,d,f,g,i=a.orderCart,j=a.storeId,k=a.menuId,l=a.toastContainerId,m=a.carouselId,n=a.carouselName,o=a.carouselItem,p=a.onCarouselCardClick,q=a.isViewingPickup,r=h.useContext(Z.O).isPersistentCartEnabled,s=m===y.Kr.REORDER_CAROUSEL||m===y.Kr.POPULAR_DRINKS_CAROUSEL||m===y.Kr.FEATURED_ITEMS_CAROUSEL||m===y.Kr.RECOMMENDED_ITEMS_FOR_YOU||m===y.Kr.VEGETARIAN_ITEMS_CAROUSEL,t=s&&(i||r&&!i)&&(null===(b=o.quickAddContext)||void 0===b?void 0:b.isEligible)&&(null===(c=o.quickAddContext)||void 0===c?void 0:null===(d=c.price)||void 0===d?void 0:d.unitAmount)!==null&&(null===(f=o.quickAddContext)||void 0===f?void 0:null===(g=f.price)||void 0===g?void 0:g.currency)!==null;return(0,e.jsx)(u.BU,{children:t?(0,e.jsx)(Y,{orderCart:i||null,storeId:j,menuId:k,toastContainerId:l,carouselId:m,carouselName:n,carouselItem:o,isViewingPickup:q}):(0,e.jsx)(M.D,{onClick:function(a){a.stopPropagation(),p()}})})},_=c(84167),aa=function(a){var b,c=a.storeId,f=a.carouselItem,g=a.menuId,h=a.cardIndex,j=a.carouselId,k=a.carouselName,l=a.orderCart,m=a.onCarouselCardClick,n=a.isViewingPickup,o=a.renderOnVisible,p=a.renderAfterItemCardTitle,q=(0,d.Z)((0,K.i)(f.displayPrice,f.displayStrikethroughPrice),2),r=q[0],w=q[1],x=(0,i.Z)(),z="CardToast-".concat(j,"-").concat(h),A=function(){return(0,e.jsx)($,{orderCart:l,storeId:c,menuId:g,toastContainerId:z,carouselId:j,carouselName:k,carouselItem:f,onCarouselCardClick:m,isViewingPickup:n})},B=function(){return(0,e.jsx)(u.CQ,{children:f.name})},D=function(){return f.description&&(0,e.jsx)(v.Stack,{size:v.Stack.Sizes.XxSmall,children:(0,e.jsx)(u.Q,{children:f.description})})},E=function(){var a;return f.displayPrice&&(0,e.jsxs)(v.Stack,{size:v.Stack.Sizes.XxSmall,children:[(0,e.jsxs)(u.Yq,{children:[f.dynamicLabelDisplayString&&(0,e.jsx)(u.OS,{children:"".concat(f.dynamicLabelDisplayString," ").concat("•")}),(0,e.jsx)(u.tv,(0,t.Z)((0,s.Z)({},w?{color:v.Text.Colors.TextAccentedSecondary}:{}),{children:f.displayPrice})),w&&(0,e.jsx)(L.Z,{strikethroughPrice:r})]}),x&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Stack,{size:v.Stack.Sizes.XxSmall}),(0,e.jsx)(v.InlineChildren,{shouldWrap:!0,children:null==f?void 0:null===(a=f.dietaryTagsList)||void 0===a?void 0:a.map(function(a,c){return(0,e.jsx)(_.s,{text:null!==(b=null==a?void 0:a.fullTagDisplayString)&&void 0!==b?b:null,type:null==a?void 0:a.type},"item-".concat(f.id,"-tag-").concat(c))})})]})]})},F=function(){return f.lastOrdered&&(0,e.jsx)(u.NM,{maxLines:j===y.Kr.REORDER_CAROUSEL?1:2,color:v.Text.Colors.TextAccentedSecondary,children:f.lastOrdered})},M=function(){return(0,e.jsx)(u.Mk,{children:(0,e.jsx)(H.V,{toastContainerId:z,toastLimit:1})})},N=function(a){("Enter"===a.key||" "===a.key||"Spacebar"===a.key)&&(a.preventDefault(),m())};return(0,e.jsx)(u.Pb,{carouselCardLength:u.lV,gap:v.Spacing.Small,children:(0,e.jsx)(G.Z,{onImpression:function(){return C({itemId:f.id,storeId:c,menuId:g,carouselId:j,dietaryTags:(0,T.oD)(null==f?void 0:f.dietaryTagsList)})},children:(0,e.jsx)(u.wx,{"aria-label":f.name,onClick:m,onKeyDown:N,tabIndex:0,role:"button",children:(0,e.jsx)(I.Z,{renderTitle:B,renderAfterTitle:p?function(){return p(f)}:void 0,renderSubtitle:D,renderLeadingTagline:E,renderTrailingTagline:F,renderLeadingImage:function(){var a;return a=o,f.imageUrl&&(0,e.jsx)(u.Vf,{children:(0,e.jsx)(J.Z,{imageUrl:f.imageUrl,itemName:f.name,renderOnVisible:a})})},renderToast:M,renderLeadingImageIcon:A})},"".concat(f.name))})})},ab=c(11300),ac=c(16495),ad=function(a){var b,c=a.storeId,d=a.carouselItem,f=a.menuId,g=a.cardIndex,h=a.carouselId,i=a.carouselName,j=a.orderCart,k=a.onCarouselCardClick,l=a.isViewingPickup,m=a.renderBeforeImageCard,n="ImageCardToast-".concat(h,"-").concat(g),o=d.dynamicLabelDisplayString,p=o?"".concat(o," ").concat("•"," ").concat(d.displayPrice):d.displayPrice,q=function(){return(0,e.jsx)($,{orderCart:j,storeId:c,menuId:f,toastContainerId:n,carouselId:h,carouselName:i,carouselItem:d,onCarouselCardClick:k,isViewingPickup:l})},r=function(){return(0,e.jsx)(u.Cw,{children:(0,e.jsx)(H.V,{toastContainerId:n,toastLimit:1})})},s=function(a){("Enter"===a.key||" "===a.key||"Spacebar"===a.key)&&(a.preventDefault(),k())};return(0,e.jsx)(u.vt,{children:(0,e.jsx)(G.Z,{onImpression:function(){return C({itemId:d.id,storeId:c,menuId:f,carouselId:h})},children:(0,e.jsxs)(u.wW,{"aria-label":d.name,onClick:k,onKeyDown:s,tabIndex:0,role:"button",children:[m?m(d):null,(0,e.jsx)(ab.Z,{image:{url:d.imageUrl,alt:null!==(b=d.name)&&void 0!==b?b:""},actionIcon:{renderActionIcon:q},labels:{leadingLabel:{text:d.name},trailingLabel:d.displayPrice?{text:p}:void 0},renderToast:r,mobileImageSize:ac.G1})]},"".concat(d.name))})})},ae=c(90036),af=function(a){var b=a.items,c=a.title,f=a.subtitle,g=a.getCard,i=a.carouselId,j=a.orderCartId,k=(0,o.Z)(),l=k.storePageRedesign,m=l.isM05Enabled,n=l.m1,p=n.isEnabled,q=h.useCallback(function(a){return g(b,a,i,c)},[b,g,i,c]),r=(0,d.Z)(h.useState((0,y.Ex)(i,!1)),1)[0],s=(0,d.Z)(h.useState((0,y.lK)(i)),1),t=s[0];return(0,e.jsx)(ae.Z,{itemsKey:b.reduce(function(a,b){return a+"".concat(b.id).concat(b.displayPrice,":").concat(j)},""),gapSizes:t,itemSizes:r,numberOfItems:b.length,getItem:q,inset:{left:0,top:m||p?v.Spacing.Medium:v.Spacing.Large,right:0,bottom:0},title:c,subtitle:f,navButtonStyle:"TOP_RIGHT",carouselId:i})},ag=g()(function(){return Promise.all([c.e(97073),c.e(48764),c.e(48837),c.e(90975),c.e(81865),c.e(17398),c.e(32558),c.e(43948),c.e(88241),c.e(67618),c.e(5354),c.e(48172),c.e(87188),c.e(97251),c.e(98881),c.e(27811),c.e(37443),c.e(4835),c.e(50791),c.e(52892),c.e(32271),c.e(13211)]).then(c.bind(c,69241))},{loadableGenerated:{webpack:function(){return[69241]}},ssr:!1}),ah=g()(function(){return Promise.all([c.e(97073),c.e(48764),c.e(48837),c.e(90975),c.e(81865),c.e(17398),c.e(32558),c.e(89194),c.e(43948),c.e(88241),c.e(67618),c.e(5354),c.e(48172),c.e(87188),c.e(97251),c.e(98881),c.e(27811),c.e(37443),c.e(4835),c.e(50791),c.e(52892),c.e(48649)]).then(c.bind(c,98565))},{loadableGenerated:{webpack:function(){return[98565]}},ssr:!1}),ai=function(a){var b=a.storeId,c=a.carousels,f=a.storeInfo,g=a.storeMenu,s=a.isViewingPickup,t=a.orderCart,v=a.wideHeaderMode,w=a.renderBeforeImageCard,x=a.renderAfterItemCardTitle,z=a.renderAfterModalItemTitle,A=a.hideLastOrdered,B=p.cG(g),C=(0,l.XR)(),E=(0,d.Z)(h.useState((0,n.k_)(b,m.$.STOREPAGE_CAROUSEL_ITEM_MODAL)),2),G=E[0],H=E[1],I=(0,d.Z)(h.useState((0,n.Aj)(b,m.$.STOREPAGE_CAROUSEL_ITEM_MODAL)),2),J=I[0],K=I[1],L=(0,d.Z)(h.useState((0,n.Bx)(b,m.$.STOREPAGE_CAROUSEL_ITEM_MODAL)),2),M=L[0],N=L[1],O=(0,d.Z)(h.useState({}),2),P=O[0],Q=O[1],R=(0,o.Z)(),S=R.storePageRedesign,T=S.isM05Enabled,U=S.m1,V=U.isEnabled,W=h.useContext(X.b),Y=W.setAddedItems,Z=W.setIsAddItemPopoverVisible,$=h.useContext(j.d).isLoggedOutStorePage,_=function(){N(!1),C.delete(m.$.STOREPAGE_CAROUSEL_ITEM_MODAL),H(void 0)},ab=function(a){var c=a.itemId,d=a.itemReorderCursor,e=a.cardIndex,f=a.carouselId,g=a.carouselName;return function(){Q({id:f,name:g}),N(!0),K(d||void 0),H(c),D({itemId:c,storeId:b,menuId:B,carouselId:f,carouselName:g,cardIndex:e,isLoggedOutStorePage:$}),C.set(m.$.STOREPAGE_CAROUSEL_ITEM_MODAL,{itemId:c,storeId:b,reorderCursor:d})}};h.useEffect(function(){F({carousels:c,storeId:b,menuId:B})},[]);var ac,ae,ai,aj,ak=(0,k.bp)().isSSR,al=(0,i.Z)(),am=h.useCallback(function(a,c,d,f){var g=a[c],h={id:g.id,name:g.name,description:g.description,imageUrl:g.imgUrl,displayPrice:g.displayPrice,dietaryTagsList:al?g.dietaryTagsList:void 0,displayStrikethroughPrice:g.displayStrikethroughPrice,dynamicLabelDisplayString:g.dynamicLabelDisplayString,lastOrdered:A?null:g.calloutDisplayString,reorderCursor:d===y.Kr.REORDER_CAROUSEL?g.nextCursor:null,orderItemId:g.orderItemId,reorderCartId:g.reorderCartId,reorderUuid:g.reorderUuid,unitAmount:g.unitAmount,currency:g.currency,specialInstructions:g.specialInstructions,quickAddContext:g.quickAddContext,calloutDisplayString:g.calloutDisplayString},i=d===y.Kr.FEATURED_ITEMS_CAROUSEL||d===y.Kr.RECOMMENDED_ITEMS_FOR_YOU,j=ab({itemId:h.id,itemReorderCursor:h.reorderCursor,cardIndex:c,carouselId:d,carouselName:f});return i&&h.imageUrl?(0,e.jsx)(ad,{carouselItem:h,storeId:b,menuId:B,cardIndex:c,carouselId:d,carouselName:f,orderCart:t,onCarouselCardClick:j,isViewingPickup:s,renderBeforeImageCard:w},"StorePageFeedCarouselImageCard-".concat(d,"-").concat(c)):i?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(aa,{carouselItem:h,storeId:b,menuId:B,cardIndex:c,carouselId:d,carouselName:f,orderCart:t,onCarouselCardClick:j,isViewingPickup:s,renderAfterItemCardTitle:x},"StorePageFeedCarouselCard-".concat(d,"-").concat(c))},[s,t]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(u.w7,{isSSR:ak,wideHeaderMode:v,isStorePageRedesign:T||V,children:c.map(function(a,b){var c,d=a.id,f=a.name,g=a.items,h=a.description;return(0,e.jsx)(af,{items:g,title:f,subtitle:h,getCard:am,carouselId:d,orderCartId:null!==(c=null==t?void 0:t.id)&&void 0!==c?c:""},"".concat(d,"-").concat(b))})}),G&&(ac=G,void 0===(ae=J)&&void 0!==ac)&&(0,e.jsx)(ag,{storeId:b,itemId:G,setItemId:function(a){return(0,n.qD)(a,H,C,m.$.STOREPAGE_CAROUSEL_ITEM_MODAL,{menuId:B,storeId:b},K)},itemListId:P.id,itemListName:P.name,isViewingPickup:s,showModal:M,closeModal:_,storeName:q.RN(f),menuId:B,shouldUseCacheFirst:!1,renderAfterModalItemTitle:z,afterAddItemSuccess:function(a){var b=a.itemImageUrl,c=a.variables;(0,r.g)({setAddedItems:Y,setIsAddItemPopoverVisible:Z,itemImageUrl:b,variables:c})}}),G&&J&&(ai=G,void 0!==(aj=J)&&void 0!==ai)&&(0,e.jsx)(ah,{storeId:b,itemId:G,isViewingPickup:s,showModal:M,closeModal:_,storeName:q.RN(f),menuId:B,reorderCursor:J,differentialPricingEnabled:q.mB(f),afterAddItemSuccess:function(a){var b=a.itemImageUrl,c=a.variables;(0,r.g)({setAddedItems:Y,setIsAddItemPopoverVisible:Z,itemImageUrl:b,variables:c})}})]})},aj=ai},96378:function(a,b,c){var d=c(7297),e=c(93241),f=c(44119),g=c.n(f),h=c(53132);function i(){var a=(0,d.Z)(["\n  query getUGCDisplayPhotos(\n    $storeId: ID!\n    $itemId: ID\n    $photoDisplayType: PhotoDisplayTypeEnum!\n  ) {\n    getUGCDisplayPhotos(\n      storeId: $storeId\n      itemId: $itemId\n      photoDisplayType: $photoDisplayType\n    ) {\n      mxPhotoDetails {\n        ...UgcPhotoDetailsFragment\n      }\n      ugcPhotoDetails {\n        ...UgcPhotoDetailsFragment\n      }\n      photoResponseStatus {\n        success\n        error {\n          errorMessage\n          errorCode\n        }\n      }\n    }\n  }\n  ","\n"]);return i=function(){return a},a}var j=g()(i(),h.u),k=function(a,b,c,d){return(0,e.a)(j,{variables:{storeId:b,itemId:d,photoDisplayType:c},skip:!a,fetchPolicy:"network-only"})};b.Z=k}}])